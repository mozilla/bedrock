{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% extends "mozorg/contribute/contribute-base.html" %}

{% add_lang_files "mozorg/contribute" %}

{% block page_title %}{{_('Community Events')}}{% endblock %}
{% block body_id %}events{% endblock %}

{% block page_css %}
  {{ css('contribute-2015') }}
{% endblock %}

{% block js %}
  {{ js('contribute-2015') }}
  {{ js('contribute-form') }}
{% endblock %}

{# Force header and footer to always show for localized event listings. Bug 1083531 #}
{% set override_header_footer = True %}

{% block contrib_page_title %}{{ _('Community Events') }}{% endblock %}

{% block contrib_content %}
{# No map for now
  <div id="map" data-mapbox="{{ settings.MAPBOX_TOKEN }}">
  <!-- map -->
  </div>
#}

  <section class="section events-list">
    <div class="container">

{# No filtering for now
    <div class="events-head">
      <form id="events-filter" method="get" action="#">
        <fieldset>
          <legend>{{ _('Find events') }}</legend>

          <p class="filter">
            <label for="filter-keyword">{{ _('By city, country, or event:') }}</label>
            <input type="search" id="filter-keyword" name="keyword">
          </p>

          <p class="filter">
            <label for="filter-date-mo">{{ _('By date:') }}</label>
            <span class="select">
              <select id="filter-date-mo" name="month">
                <option value="" selected>-- {{ _('month') }} --</option>
                <option value="01">{{ _('January') }}</option>
                <option value="02">{{ _('February') }}</option>
                <option value="03">{{ _('March') }}</option>
                <option value="04">{{ _('April') }}</option>
                <option value="05">{{ _('May') }}</option>
                <option value="06">{{ _('June') }}</option>
                <option value="07">{{ _('July') }}</option>
                <option value="08">{{ _('August') }}</option>
                <option value="09">{{ _('September') }}</option>
                <option value="10">{{ _('October') }}</option>
                <option value="11">{{ _('November') }}</option>
                <option value="12">{{ _('December') }}</option>
              </select>
            </span>
            <span class="select">
              <select id="filter-date-yr" name="year">
                <option value="" selected>-- {{ _('year') }} --</option>
                <option value="2014">2014</option>
                <option value="2015">2015</option>
                <option value="2016">2016</option>
                <option value="2017">2017</option>
              </select>
            </span>
          </p>

          <p class="form-submit">
            <button type="button" class="button-flat">{{ _('Find events') }}</button>
          </p>
        </fieldset>
      </form>
    </div>
#}

{# No heading needed here until we bring add the filering
    <h3>{{ _('Events') }}</h3>
#}
    <table class="events-table">
      <thead>
        <tr>
          <th scope="col" class="event-date">{{ _('Date') }}</th>
          <th scope="col" class="event-name">{{ _('Event') }}</th>
          <th scope="col">{{ _('Location') }}</th>
        </tr>
      </thead>
      <tbody>
        {% for event in future_events() %}
          <tr>
            <td class="event-date"><time datetime="{{ event.start_time.isoformat() }}">{{ event.start_time|l10n_format_date }}</time></td>
            <th class="event-name" scope="row"><a href="{{ event.url }}">{{ event.title|safe }}</a></th>
            <td>{{ event.location|safe }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    </div>
  </section>

{% endblock contrib_content %}
