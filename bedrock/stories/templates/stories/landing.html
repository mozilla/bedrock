
{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}
{% from "macros.html" import image with context %}
{% from "stories/includes/macros.html" import stories_image, stories_card with context %}
{% extends "base-protocol.html" %}

{% block page_css %}
  {{ css_bundle('mozilla-stories-landing')}}
  {{ css_bundle('mozilla-stories-shared')}}
  {{ css_bundle("protocol-split")}}
  {{ css_bundle("protocol-card") }}
{% endblock %}

{% block page_title %}Stories{% endblock %}

{% set card_image_attr = {
  'class': 'card-image',
  'width': '349',
  'height': '239'
} %}

{% block content %}
  <main class="c-stories-main">
    {# Featured Stories #}
        {% with
          url=url('stories.articles.raising-technology-eq'),
          image=resp_img(
            url="img/stories/raising-technology-eq-1000.jpg",
            srcset={
                "img/stories/raising-technology-eq-500.jpg": "500w",
                "img/stories/raising-technology-eq-1000.jpg": "1000w",
                "img/stories/raising-technology-eq-1500.jpg": "1500w"
            },
            sizes={
              "(min-width: 767px)": "calc(100vw - 80px)",
              "default": "100vw"
            },
            optional_attributes={
              "loading": "eager",
              "width": "1000",
              "height": "667"
            }
          ),
          caption="Photo by Alina Grubnyak on Unsplash",
          title="Raising Technology’s EQ",
          desc="Pamela Pavliscak studies the impact of technology and how we feel. Here’s why she thinks we’re entering the era of big emotion.",
          value="Connection",
          theme_class="orange"
        %}
          {% include 'stories/includes/stories-landing-featured.html' %}
        {% endwith %}
      {# todo: update class naming, this section is evolving to include collections #}
      <section class="c-stories-related">
        <div class="related-stories-grid">
          <h2 class="c-stories-related-header">Other Stories and Collections</h2>
          <div class="related-stories-wrapper">
            {{ stories_card(
              title="The Joy of Color",
              desc="The internet is supposed to be fun. Firefox gives color to the gray world of browsing with seasonal shades and a new collaboration with former Nike sneaker designer Keely Alexis.",
              image=resp_img(
                'img/stories/joy-of-color.jpg',
                srcset={ 'img/stories/joy-of-color-high-res.jpg': '2x' },
                optional_attributes=card_image_attr,
              ),
              link=url('stories.articles.joy-of-color')
            )}}
            {{ stories_card(
              title="The Art of Engagement",
              desc="Mozilla’s vibrant community gets a direct connection to the people building the products they love.",
              image=resp_img(
                'img/stories/art-of-engagement.jpg',
                srcset={ 'img/stories/art-of-engagement-high-res.jpg': '2x' },
                optional_attributes=card_image_attr,
              ),
              link=url('stories.articles.art-of-engagement')
            )}}
            {{ stories_card(
              title="Licensed to Build Together",
              desc="Who really owns the Firefox browser? Its copyleft license means we all do.",
              image=resp_img(
                'img/stories/build-together.jpg',
                srcset={ 'img/stories/build-together-high-res.jpg': '2x' },
                optional_attributes=card_image_attr,
              ),
              link=url('stories.articles.build-together')
            )}}
            {{ stories_card(
              title="From Volunteer to Mozilla Community Champion",
              desc="An early Mozilla volunteer’s curiosity about open-source software led him to a career with a company whose mission he believes in.",
              image=resp_img(
                'img/stories/community-champion.jpg',
                srcset={ 'img/stories/community-champion-high-res.jpg': '2x' },
                optional_attributes=card_image_attr,
              ),
              link=url('stories.articles.community-champion')
            )}}
          </div>
        </div>
      </section>
  </main>
{% endblock %}
