{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% from "macros-protocol.html" import card with context %}
{% from "macros.html" import image with context %}


{% macro stories_card(title="", image_url="", link_url="", desc="", class="", image_alt="", include_highres_image=False, width="", height="") %}
  <section class="c-stories-card {% if class %}{{ class }}{% endif %}">
    <a class="card-block-link" href="{{ link_url }}">
      <div class="card-media-wrapper">
        {{ image(
          url=image_url,
          class='card-image',
          alt=image_alt,
          include_highres=include_highres_image,
          include_l10n=l10n_image,
          width="464",
          height="318"
        ) }}
      </div>
      <div class="card-content">
        <h3 class="card-title">{{ title }}</h3>
        <p class="card-desc">{{ desc }}</p>
      </div>
    </a>
  </section>
{% endmacro %}

{% macro stories_image(image_url="", alt="", caption="", include_highres=False, image_class="", width="1360", height="765", featured=False, loading=None) %}
  <figure class="c-stories-image {% if image_class %}{{ image_class }}{% endif %}">
    {{ image(
      url=image_url,
      alt=alt,
      width=width,
      height=height,
      loading=loading,
      include_highres=include_highres
    ) }}
    {% if caption %}
      <figcaption>{{ caption }}</figcaption>
    {% endif %}
  </figure>
{%- endmacro %}

{% macro stories_article_blockquote(quote="", caption="", class="") %}
  <figure class="c-stories-article-blockquote {{ class }}">
   <blockquote {% if caption %}class="contains-caption"{% endif %}>“{{ quote }}”</blockquote>
   {% if caption %}<figcaption>{{ caption }}</figcaption>{% endif %}
  </figure>
{% endmacro %}

{% macro stories_landing_feature_story(url=None, image_class=None, image_url='', title='', desc='', caption='', value='') %}
  <section class="c-stories-featured-collection">
    <section class="c-stories-featured-story">
    <a class="featured-story-image" href="{{ url }}">
      <figure class="c-stories-image {% if image_class %}{{ image_class }}{% endif %}">
        <div class="featured-image-wrapper">
          {{ image(
            url=image_url,
            alt="",
            width="1010",
            height="519",
            include_highres=True
          ) }}
        </div>
        {% if caption %}
          <figcaption>{{ caption }}</figcaption>
        {% endif %}
      </figure>
      </a>
      <div class="featured-story-content">
        <p class="featured-story-type">Featured Article</p>
        <h1 class="featured-story-header">{{ title }}</h1>
        <p class="featured-story-lead-in">{{ desc }}</p>
        <div class="featured-story-metadata">
          <div class="value-container">
            <p>Value <span>{{ value }}</span></p>
          </div>
          <a title="Read '{{ title }}'" class="story-link" href="{{ url }}">Read<span class="arrow-right"></span></a>
        </div>
      </div>
    </section>
  </section>
{% endmacro %}



