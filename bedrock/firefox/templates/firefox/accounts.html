{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% from "macros.html" import fxa_email_form with context %}

{% extends "firefox/base-pebbles.html" %}

{% block page_title_prefix %}{{_('Get a Firefox Account')}}{% endblock %}
{% block page_title %}{% endblock %}
{% block page_desc %}{{_('Get easy access to your bookmarks, passwords, tabs and more from any computer or mobile device running Firefox.')}}{% endblock %}

{% block page_css %}
  {{ css_bundle('firefox_accounts') }}
{% endblock %}

{% block body_class %}firefox-accounts state-fxa-default {% endblock %}

{% block content %}
<main role="main">
  <div class="content">
    <header class="top-header">
      <div class="header-logos">
        <h2><a class="firefox" href="{{ url('firefox') }}">{{ high_res_img('logos/firefox/logo-quantum-wordmark-white.png', {'alt': 'Firefox', 'width': '133', 'height': '50'}) }}</a></h2>
        <h2><a class="mozilla" href="{{ url('mozorg.home') }}"><img src="{{ static('img/logos/mozilla/wordmark-dark.svg')}}" alt="Mozilla" width="101" height="34"></a></h2>
      </div>
      <h1>{{_('Sign up, sign in, stay in sync.')}}</h1>
    </header>
    <div class="main-content">
      <div class="main-copy">
        <p class="tagline">{{_('With a Firefox Account, you can get all your bookmarks, passwords, open tabs and more — everywhere you use Firefox.')}}</p>
        <ol class="sign-up-instructions show-fxa-supported-signed-out">
          <li>{{_('Sign up for a Firefox Account')}}</li>
          <li>{{_('Sign in everywhere you use Firefox')}}</li>
          <li>{{_('Sync what you want')}}</li>
        </ol>
      </div>
      <div class="fxa-cta show-fxa-supported-signed-in show-fxa-supported-signed-out">
        <p class="show-fxa-supported-signed-in signed-in">{{_('You’re signed in and ready to start using Sync.')}}</p>
        <div class="show-fxa-supported-signed-out">
          {{ fxa_email_form(entrypoint='accounts-page', utm_source='accounts-page', utm_params={'campaign': 'fxa-embedded-form', 'content': 'accounts-page', 'medium': 'referral'}) }}
        </div>
      </div>
      <div class="mobile-ctas">
        <span class="show-fxa-ios">
          <a class="button button-hollow button-light" rel="external" href="https://support.mozilla.org/kb/sync-firefox-bookmarks-and-browsing-history-iOS">{{_('Set up Sync for iOS')}}</a>
        </span>
        {# L10n: Line break below for visual formatting only. #}
        <span class="show-fxa-android">
          <a class="button button-hollow button-light" rel="external" href="https://support.mozilla.org/kb/sync-bookmarks-tabs-history-and-passwords-android">{{_('Set up Sync on your <br>Android device')}}</a>
        </span>
      </div>
      <div class="download-firefox show-fxa-not-fx show-fxa-unsupported show-fxa-default">
        <p class="show-fxa-not-fx show-fxa-default">{{_('Download Firefox to start using Sync.')}}</p>
        <p class="show-fxa-unsupported ">{{_('Get the latest Firefox to start using Sync.')}}</p>
        {{ download_firefox() }}
      </div>
    </div>
  </div>
</main>
{% endblock %}

{% block js %}
  {{ js_bundle('firefox_accounts') }}
{% endblock %}
