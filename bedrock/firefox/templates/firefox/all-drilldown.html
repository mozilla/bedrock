{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}
{% extends "firefox/base/base-protocol.html" %}

{%- block page_title -%}
  {{ ftl('firefox-all-download-the-firefox') }}
{%- endblock -%}

{%- block page_desc -%}
  {{ ftl('firefox-all-everyone-deserves-access') }}
{%- endblock -%}

{% block page_css %}
 {{ css_bundle('firefox_all_unified') }}
{% endblock %}

{% block old_ie_styles %}
  {{ super() }}
  {{ css_bundle('firefox_all_unified_old_ie') }}
{% endblock %}

{% block site_header %}
  {% with hide_nav_cta=True %}
    {% include 'includes/protocol/navigation/navigation.html' %}
  {% endwith %}
{% endblock %}

{% block content %}
<main>
  <div class="mzp-l-content">
    <div id="product-select-form" class="c-product-select-form" data-supported="true">
      <div class="c-intro">
        <h1 class="c-intro-heading">{{ ftl('firefox-all-choose-which-firefox') }}</h1>
        <p>{{ self.page_desc() }}</p>

        {% if product %}
          {% if product.slug == "desktop-release" %}
            <div>
              <ul>
                <li><a href="{{ firefox_url('desktop', 'sysreq', 'release') }}">{{ ftl('firefox-all-check-the-system-requirements') }}</a></li>
                <li><a href="{{ firefox_url('desktop', 'notes', 'release') }}">{{ ftl('firefox-all-release-notes') }}</a></li>
                <li><a href="https://firefox-source-docs.mozilla.org/">{{ ftl('firefox-all-source-code') }}</a></li>
              </ul>
            </div>
          {% elif product.slug == "desktop-beta" %}
            <div>
              <ul>
                <li><a href="{{ firefox_url('desktop', 'sysreq', 'beta') }}">{{ ftl('firefox-all-check-the-system-requirements') }}</a></li>
                <li><a href="{{ firefox_url('desktop', 'notes', 'beta') }}">{{ ftl('firefox-all-release-notes') }}</a></li>
                <li><a href="https://firefox-source-docs.mozilla.org/">{{ ftl('firefox-all-source-code') }}</a></li>
              </ul>
            </div>
          {% elif product.slug == "desktop-developer" %}
            <div>
              <ul>
                <li><a href="{{ firefox_url('desktop', 'sysreq', 'alpha') }}">{{ ftl('firefox-all-check-the-system-requirements') }}</a></li>
                <li><a href="{{ firefox_url('desktop', 'notes', 'alpha') }}">{{ ftl('firefox-all-release-notes') }}</a></li>
                <li><a href="https://firefox-source-docs.mozilla.org/">{{ ftl('firefox-all-source-code') }}</a></li>
              </ul>
            </div>
          {% elif product.slug == "desktop-nightly" %}
            <div>
              <ul>
                <li><a href="{{ firefox_url('desktop', 'sysreq', 'nightly') }}">{{ ftl('firefox-all-check-the-system-requirements') }}</a></li>
                <li><a href="{{ firefox_url('desktop', 'notes', 'nightly') }}">{{ ftl('firefox-all-release-notes') }}</a></li>
                <li><a href="https://firefox-source-docs.mozilla.org/">{{ ftl('firefox-all-source-code') }}</a></li>
              </ul>
            </div>
          {% elif product.slug == "desktop-esr" %}
            <div>
              <ul>
                <li><a href="{{ firefox_url('desktop', 'sysreq', 'organizations') }}">{{ ftl('firefox-all-check-the-system-requirements') }}</a></li>
                <li><a href="{{ firefox_url('desktop', 'notes', 'organizations') }}">{{ ftl('firefox-all-release-notes') }}</a></li>
                <li><a href="https://firefox-source-docs.mozilla.org/">{{ ftl('firefox-all-source-code') }}</a></li>
              </ul>
            </div>
          {% elif product.slug == "android-release" %}
            <div>
              <ul>
                <li><a href="{{ firefox_url('android', 'sysreq', 'release') }}">{{ ftl('firefox-all-check-the-system-requirements') }}</a></li>
                <li><a href="{{ firefox_url('android', 'notes', 'release') }}">{{ ftl('firefox-all-release-notes') }}</a></li>
              </ul>
            </div>
          {% elif product.slug == "android-release" %}
            <div>
              <ul>
                <li><a href="{{ firefox_url('ios', 'sysreq', 'release') }}">{{ ftl('firefox-all-check-the-system-requirements') }}</a></li>
                <li><a href="{{ firefox_url('ios', 'notes', 'release') }}">{{ ftl('firefox-all-release-notes') }}</a></li>
              </ul>
            </div>
          {% endif %}
        {% endif %}
        <div class="c-support-links">
          <ul>
            <li><a href="{{ url('privacy.notices.firefox') }}">{{ ftl('firefox-all-firefox-privacy-notice') }}</a></li>
            <li><a href="https://support.mozilla.org/products/?utm_source=mozilla.org&utm_medium=referral&utm_campaign=need-help-link">{{ ftl('firefox-all-need-help') }}</a></li>
          </ul>
        </div>
      </div>
      <div class="c-selection-form">
        {% if product %}
        <p><a href="{{ url('firefox.drilldown') }}">&lt; start over</a></p>
        {% endif %}

        {# Choose product #}
        <h2 class="mzp-c-sidemenu-title">{{ ftl('firefox-all-which-browser-would') }}
          <a id="icon-browser-help" href="#browser-help" class="c-button-help" title="{{ ftl('firefox-all-learn-about-firefox') }}">
            {{ ftl('firefox-all-get-help') }}
          </a>
        </h2>
        {% if product %}
          <p>{{ product and product.name }}</p>
        {% else %}
          <ul>
            {% for p in products %}
              <li><a href="{{ url('firefox.drilldown_product', product_slug=p.slug) }}">{{ p.name }}</a></li>
            {% endfor %}
          </ul>
        {% endif %}

        {# Choose platform #}
        {% if product %}
          <h2 class="mzp-c-sidemenu-title">{{ ftl('firefox-all-select-your-preferred-installer') }}
            <a href="#installer-help" class="c-button-help icon-installer-help" title="{{ ftl('firefox-all-learn-about-installers')}}">
              {{ ftl('firefox-all-get-help') }}
            </a>
          </h2>
          {% if platform %}
            <p>{{ platform_name }}</p>
          {% else %}
            <ul>
              {% for platform, name in platforms %}
                <li><a href="{{ url('firefox.drilldown_platform', product_slug=product.slug, platform=platform) }}">{{ name }}</a></li>
              {% endfor %}
            </ul>
          {% endif %}
        {% endif %}

        {# Choose language #}
        {% if product and platform %}
          <h2 class="mzp-c-sidemenu-title">{{ ftl('firefox-all-select-your-preferred-language') }}</h2>
          {% if locale %}
            <p>{{ locale_name }}</p>
          {% else %}
            <ul>
              {% for locale, name in locales %}
                <li><a href="{{ url('firefox.drilldown_locale', product_slug=product.slug, platform=platform, locale=locale) }}">{{ name }}</a></li>
              {% endfor %}
            </ul>
          {% endif %}
        {% endif %}

        {# Show download #}
        {% if product and platform and locale %}
          <div>
            <a href="{{ download_url }}" id="download-button-primary" class="mzp-c-button mzp-t-product" data-link-type="download" data-download-location="primary cta">
              {{ ftl('download-button-download-now') }}
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</main>
{% endblock %}
