{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% extends "firefox/base/base-protocol.html" %}

{% from "macros-protocol.html" import hero, feature_card, call_out_compact, picto with context %}

{% block page_og_title %}{{ self.page_title() }}{% endblock %}

{% block page_css %}
  {{ css_bundle('protocol-picto') }}
  {{ css_bundle('protocol-newsletter') }}
  {{ css_bundle('protocol-call-out') }}
  {{ css_bundle('firefox_channel') }}
{% endblock %}

{% block body_class %}{% endblock %}

{% block sub_navigation %}
<nav class="c-sub-navigation">
  <div class="mzp-l-content">
    <div class="c-sub-navigation-content">
      <h2 class="c-sub-navigation-title">
        <a href="{{ url('firefox.browsers.index') }}" data-link-type="nav" data-link-position="subnav" data-link-name="Firefox">
          <img class="c-sub-navigation-icon" src="{{ static('protocol/img/logos/firefox/logo.svg') }}" width="24" height="24" alt="">
         {{ ftl('sub-navigation-firefox') }}
        </a>
      </h2>
      <ul class="c-sub-navigation-list">
        <li class="c-sub-navigation-item"><a href="{{ url('firefox.channel.desktop') }}" data-link-type="nav" data-link-position="subnav" data-link-name="Nightly and Beta">{{ ftl('sub-navigation-nightly-and-beta', fallback='firefox-channel-desktop') }}</a></li>
        <li class="c-sub-navigation-item"><a href="{{ url('firefox.channel.android') }}" data-link-type="nav" data-link-position="subnav" data-link-name="Android Nightly and Beta">{{ ftl('sub-navigation-android-nightly-and-beta', fallback='firefox-channel-android') }}</a></li>
        <li class="c-sub-navigation-item"><a href="{{ url('firefox.channel.ios') }}" data-link-type="nav" data-link-position="subnav" data-link-name="iOS TestFlight">{{ ftl('sub-navigation-ios-test-flight', fallback='firefox-channel-ios') }}</a></li>
      </ul>
    </div>
  </div>
</nav>
{% endblock %}

{% block content %}
<main role="main">
  {% call hero(
    title=ftl('firefox-channel-take-a-browse-on-the-wild-side'),
    desc=ftl('firefox-channel-be-among-the-first-to-explore'),
    class='mzp-t-firefox mzp-t-product-firefox',
    include_cta=False,
    heading_level=1) %}
  {% endcall %}

  {% block channels %}{% endblock %}

  <aside class="mzp-t-picto-center">
  {% call picto(
    image_url='img/icons/warning.svg',
    heading_level=2,
    image_width=44,
    title=ftl('firefox-channel-see-something-that-isnt-working'),
    body=True,
    ) %}
      <ul>
        <li><a class="mzp-c-cta-link" href="https://bugzilla.mozilla.org/enter_bug.cgi">{{ ftl('firefox-channel-file-a-bug-now') }}</a></li>
        <li><a class="mzp-c-cta-link" href="https://support.mozilla.org/kb/contributors-guide-writing-good-bug">{{ ftl('firefox-channel-tips-for-filing-a-bug') }}</a></li>
      </ul>
      {% endcall %}
    </aside>

  <section class="t-newsletter">
    <div class="mzp-l-content">
      {{ email_newsletter_form(
        button_class='mzp-t-product mzp-t-lg',
        title=ftl('newsletter-form-firefox-and-you'),
        desc=ftl('newsletter-form-get-firefox-tips')) }}
    </div>
  </section>
</main>
{% endblock %}

{% block js %}
  {{ super() }}
  {{ js_bundle('firefox_channel') }}
{% endblock %}
