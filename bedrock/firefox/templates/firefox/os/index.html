{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% from "macros.html" import fxfamilynav with context %}

{% extends "firefox/base-resp.html" %}

{% add_lang_files "firefox/os/devices" "firefox/os/index-new" %}

{% block page_title_prefix %}{% endblock %}
{% block page_image %}{{ static('img/firefox/os/page-image.png') }}{% endblock %}

{% block page_title %}
  {% if l10n_has_tag('new_fxos_title_updated') %}
    {{_('Firefox OS — Just what you need — Great smartphone features, apps and more')}}
  {% else %}
    {{_('Firefox OS — The Adaptive Phone — Great Smartphone Features, Apps and More')}}
  {% endif %}
{% endblock %}

{% block page_desc %}
  {% if l10n_has_tag('new_fxos_title_updated') %}
    {{_('Firefox OS is designed to give you just what you need, just when you need it. It comes with apps for all you do and you can download more of your favorites from the Firefox Marketplace. Smart has never been so simple.')}}
  {% else %}
    {{_('Firefox OS smartphones give you great adaptive features and apps that let you live every moment to its fullest and build a brighter future for the Web.')}}
  {% endif %}
{% endblock %}

{#- This will appear as <meta property="og:title"> which can be used for social share -#}
{% block page_og_title %}
  {% if l10n_has_tag('new_fxos_title') %}
    {{_('Firefox OS')}}
  {% else %}
    {{_('Firefox OS — The Adaptive Phone — Great Smartphone Features, Apps and More')}}
  {% endif %}
{% endblock %}

{#- This will appear as <meta property="og:description"> which can be used for social share -#}
{% block page_og_desc %}
  {% if l10n_has_tag('new_fxos_title') %}
    {{_('Designed to give you just what you need in a smartphone, with apps for all you do and more. Smart has never been so simple.')}}
  {% else %}
    {{_('Firefox OS smartphones give you great adaptive features and apps that let you live every moment to its fullest and build a brighter future for the Web.')}}
  {% endif %}
{% endblock %}

{#- Override <meta property="og:url"> for social share -#}
{% block page_og_url %}{{ url('firefox.os.index') }}{% endblock %}

{% block body_id %}firefox-os{% endblock %}
{% block body_class %}firefox-os{% endblock %}

{# Do not load CSS bundle specified in base template (duplicate CSS). #}
{% block site_css %}{% endblock %}

{% block extrahead %}
  {{ super() }}
  {% stylesheet 'firefox_os' %}
<!--[if lt IE 9]>
  {% stylesheet 'firefox_os_ie' %}
<![endif]-->
{% endblock %}

{% block site_header %}{% endblock %}

{% block site_header_unwrapped %}
  {% call fxfamilynav('os', 'index') %}
    <div id="cta-sticky">
      <a href="#email-form-wrapper" class="primary-cta-signup cta-button-small newsletter-signup-toggle hidden" role="button" aria-haspopup="true">{{_('Sign me up')}}</a>
      <a href="#get-device" class="primary-cta-phone cta-button-small hidden" role="button" aria-haspopup="true">{{_('Get a phone')}}</a>
    </div>
  {% endcall %}
{% endblock %}

{% block content %}
  <main role="main">
    <section class="fxos-hero-space">
      <div class="content-wrapper">
      {% block hero_copy %}
        <div class="phone">
          <div class="fxos-cta">
            <h1><img src="{{ static('img/firefox/os-new/fxos-wordmark.svg') }}" width="420" alt="Firefox OS" data-png="{{ static('img/firefox/os-new/fxos-wordmark.png') }}" data-fallback="true"></h1>
            <p class="tagline">{{_('Designed to give you just what you need, just when you need it.')}}</p>

            <div class="primary-cta-signup signup hidden">
              <a href="#email-form-wrapper" class="cta-button get-newsletter newsletter-signup-toggle" role="button" aria-haspopup="true">{{_('Sign me up')}}</a>
              <p class="signup-txt">{{_('Sign up for our monthly newsletter and get the latest on Firefox OS')}}</p>
            </div>
            <a href="#get-device" class="primary-cta-phone cta-button get-phone hidden" role="button" aria-haspopup="true">{{_('Get a phone')}}</a>
          </div>
          <div class="phone-container">
          {% block phone_image %}
            {{ high_res_img('firefox/os-new/homescreen/homescreen-2-0.png', {'l10n': True, 'alt': '', 'width': '495'}) }}
          {% endblock %}
          </div>
        </div>
      {% endblock %}
      </div>
    </section>
    <section class="fxos-features">
      <div class="content-wrapper">
        {% block features_headline %}
        <h2>{{_('Smart has never been so simple')}}</h2>
        {% endblock %}
        {% block features_copy %}
          <ul class="features">
            <li class="scroll">
              <h3>{{_('Scroll for what you need')}}</h3>
              <p>{{_('Say goodbye to multiple home screens. Everything you need is right there in one clean, continuous scroll. What could be easier?')}}</p>
            </li>
            <li class="search">
              <h3>{{_('Search in a snap')}}</h3>
              <p>{{_('Search the Web and the Firefox Marketplace, or visit a website directly —  all from the search bar at the top of your home screen.')}}</p>
            </li>
            <li class="swipe">
              {# l10n this &nbsp; is a dirty hack to differentiate an equivalent matching string #}
              <h3>{{_('Swipe&nbsp;between apps')}}</h3>
              <p>{{_('Access your recently used apps in a flash. Just swipe from the edge of the screen to cycle through all of your open apps.')}}</p>
            </li>
          </ul>
        {% endblock %}
      </div>
    </section>
    {% block fxox_apps %}
    <section class="fxos-apps">
      <div class="content-wrapper">
        <h2>{{_('Apps for all you do')}}</h2>
        <ul class="app-group-selector">
          <li><a href="#" id="connected" data-category="connected" role="button">{{_('Stay connected')}}</a></li>
          <li><a href="#" id="entertained" data-category="entertained" role="button">{{_('Stay entertained')}}</a></li>
          <li><a href="#" id="organized" data-category="organized" role="button">{{_('Stay organized')}}</a></li>
        </ul>
        <ul class="apps">
          <li class="connected entertained">
            {{ high_res_img('firefox/os-new/icons/browser.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Browser')}}</span>
          </li>
          <li class="organized">
            {{ high_res_img('firefox/os-new/icons/calendar.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Calendar')}}</span>
          </li>
          <li class="entertained">
            {{ high_res_img('firefox/os-new/icons/camera.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Camera')}}</span>
          </li>
          <li class="organized">
            {{ high_res_img('firefox/os-new/icons/clock.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Clock')}}</span>
          </li>
          <li class="connected organized">
            {{ high_res_img('firefox/os-new/icons/contacts.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Contacts')}}</span>
          </li>
          <li class="connected">
            {{ high_res_img('firefox/os-new/icons/email.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('E-Mail')}}</span>
          </li>
          <li class="entertained">
            {{ high_res_img('firefox/os-new/icons/fmradio.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('FM Radio')}}</span>
          </li>
          <li class="entertained organized">
            {{ high_res_img('firefox/os-new/icons/gallery.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Gallery')}}</span>
          </li>
          <li class="connected entertained organized">
            {{ high_res_img('firefox/os-new/icons/marketplace.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Marketplace')}}</span>
          </li>
          <li class="connected">
            {{ high_res_img('firefox/os-new/icons/sms.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Messages')}}</span>
          </li>
          <li class="entertained">
            {{ high_res_img('firefox/os-new/icons/music.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Music')}}</span>
          </li>
          <li class="connected">
            {{ high_res_img('firefox/os-new/icons/dialer.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Phone')}}</span>
          </li>
          <li class="organized">
            {{ high_res_img('firefox/os-new/icons/settings.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Settings')}}</span>
          </li>
          <li class="organized">
            {{ high_res_img('firefox/os-new/icons/usage.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Usage')}}</span>
          </li>
          <li class="entertained">
            {{ high_res_img('firefox/os-new/icons/video.png', {'alt': '', 'width': '142', 'height': '142'}) }}
            <span>{{_('Video')}}</span>
          </li>
        </ul>
      </div>
    </section>
    {% endblock %}

    {% block fxox_marketplace %}
    <section class="fxos-marketplace">
      <div class="content-wrapper">
        {% block marketplace_headline %}
          <h2>{{_('Add more from the Firefox Marketplace')}}</h2>
        {% endblock %}
        <p>{{_('Get all the most popular games and social networking apps right here.')}}</p>
        <ul class="apps-marketplace">
          <li class="facebook">Facebook</li>
          <li class="youtube">YouTube</li>
          <li class="line">Line</li>
        </ul>
        <a href="https://marketplace.firefox.com/" class="cta-button marketplace" rel="external">{{_('Go to the Marketplace')}}</a>
        <p class="footnote">{{_('* Pre-installed apps may vary by manufacturers and operators.')}}</p>
      </div>
    </section>
    {% endblock %}

    {% block fxox_hub %}
    {% endblock %}

    {% block fxox_mdn %}
    {% endblock %}

    {% block fxox_try %}
    {% endblock %}

    {% block fxox_news %}

      {% set feed_links = firefox_os_feed_links(LANG) %}
      {% if feed_links %}
      <section class="fxos-news">
        <div class="content-wrapper">
          <aside>
            <h2>{{_('In the news')}}</h2>
            <p><a class="more" href="{{ firefox_os_blog_link(LANG) }}">{{_('See more')}}</a></p>
          </aside>
          <ul>
            {% for link, title in feed_links[:3] %}
            <li><a href="{{ link }}">{{ title }}</a></li>
            {% endfor %}
          </ul>
        </div>
      </section>
      {% endif %}

    {% endblock %}

    {% block fxox_community %}
    <section class="fxos-community">
      <div class="content-wrapper">
        {{ high_res_img('firefox/os-new/mozilla-groupshot.png', {'alt': '', 'width': '260', 'height': '260'}) }}
        <h2>{{_('Powered by the Mozilla community')}}</h2>
        <p>{{_('Mozilla is a non-profit organization fueled by a passionate global community. Together, we’re able to create and innovate with local interests in mind, while making the Web better and more accessible for everyone everywhere.')}}</p>
        <p><a class="more" href="{{ url('mozorg.home') }}">{{_('Learn more about Mozilla')}}</a></p>
      </div>
    </section>
    {% endblock %}
    
    {% block fxox_help %}
    <section class="fxos-help">
      <div class="content-wrapper">
        <div class="help">
          <h3>{{_('Need Help?')}}</h3>
          <ul>
            <li><a class="more" href="https://support.mozilla.org/products/firefox-os" rel="external">{{_('Firefox OS Support')}}</a></li>
            <li><a class="more" href="https://find.firefox.com/" rel="external">{{_('Find My Device')}}</a></li>
          </ul>
        </div>
        <div class="help">
          <h3>{{_('For Developers')}}</h3>
          <ul>
            <li><a class="more" href="https://developer.mozilla.org" rel="external">{{_('Mozilla Developer Network')}}</a></li>
            <li><a class="more" href="https://webmaker.org/appmaker" rel="external">{{_('Mozilla Appmaker')}}</a></li>
            <li><a class="more" href="{{ url('firefox.os.devices') }}">{{_('Firefox OS devices')}}</a></li>
            <li><a class="more" href="{{ url('firefox.os.tv') }}">{{_('Other Firefox OS versions')}}</a></li>
          </ul>
        </div>
        <div class="help">
          <h3>{{_('For Partners')}}</h3>
          <ul>
            <li><a class="more" href="https://mobilepartners.mozilla.org/" rel="external">{{_('Partnership opportunities')}}</a></li>
          </ul>
        </div>
      </div>
    </section>
    {% endblock %}
  </main>
  <div id="modal-logo" data-src="{{ static('img/firefox/os/logo/firefox-os-white.png') }}"></div>

  {% block fxox_devices %}
    {% include '/firefox/os/_get_device.html' %}
  {% endblock %}


{% endblock %}

{% block email_form %}
  <div id="email-form-wrapper">
    <div id="email-form-content" class="modal-content">
      <div class="content">
        {{ email_newsletter_form('mozilla-and-you,os', _('Sign up for our monthly newsletter')) }}
      </div>
    </div>
  </div>
{% endblock %}

{% block js %}
<!--[if IE 9]>
  {% javascript 'matchmedia_addlistener' %}
<![endif]-->
  {% javascript 'firefox_os' %}
{% endblock %}
