{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% from "macros-protocol.html" import call_out, feature_card with context %}

{% from "macros.html" import fxa_email_form with context %}

{% add_lang_files "firefox/whatsnew_63" %}

{% extends "firefox/base-protocol.html" %}

{% block page_title %}{{ _('See what’s new with Firefox') }}{% endblock %}

{% block page_css %}
  {{ css_bundle('firefox_whatsnew_65') }}
{% endblock %}

{% block site_header %}{% endblock %}

{% block content %}
<main class="mzp-t-firefox">
  <header class="c-page-header">
    <div class="mzp-l-content c-page-header-inner">
      {{ high_res_img('logos/firefox/logo-quantum-wordmark-large.png', {'alt': 'Firefox', 'width': '167', 'height': '55', 'class': 'c-page-header-logo-fx'}) }}
      <h1 class="c-page-header-up-to-date">{{ _('Congrats! You’re using the latest version of Firefox.') }}</h1>
      <img src="{{ static('img/logos/mozilla/wordmark-dark.svg') }}" alt="Mozilla" width="112" height="32" class="c-page-header-logo-moz">
    </div>
  </header>
  <section class="c-sticky-signup fxa-form-cta">
    <div class="mzp-l-content">
      <div class="c-sticky-signup-container">
        <div class="c-sticky-signup-content">
          <h2 class="c-sticky-signup-title">{{ _('Get your Firefox Account') }}</h2>
        </div>
        {{ fxa_email_form(entrypoint='mozilla.org-whatsnew65', button_class='mzp-c-button', utm_source='whatsnew', utm_params={'campaign': 'fxa-embedded-form', 'content': 'whatsnew', 'medium': 'referral'})
        }}
      </div>
    </div>
  </section>

  {% if show_newsletter %}
  <section class="c-sticky-signup newsletter-form-cta">
    <div class="mzp-l-content">
      <div class="c-sticky-signup-container">
        <div class="c-sticky-signup-content">
          <h2 class="c-sticky-signup-title">{{ _('Get Firefox tips, tricks, news and more') }}</h2>
        </div>
        <div class="mzp-c-newsletter">
          {{ email_newsletter_form(
            protocol_component=True,
            include_title=False,
            spinner_color='#fff',
            button_class='mzp-c-button')
          }}
        </div>
      </div>
    </div>
  </section>
  {% endif %}

  <section class="mzp-c-hero mzp-has-image mzp-l-reverse intro">
    <div class="mzp-l-content">
      <div class="mzp-c-hero-body">
        <h2 class="mzp-c-hero-title">{{ _('It shouldn’t be hard to own your life online.') }}</h2>
        <div class="mzp-c-hero-desc">
          <p>{{ _('That’s why Firefox gives more power to you with every update.') }}</p>
        </div>
      </div>
    </div>

    <div class="mzp-c-hero-image">
      {{ high_res_img('firefox/whatsnew_63/wnp63-hero.png', {'alt': ''}) }}
    </div>
  </section>

  <section>
    {{ call_out(
      title=_('Meet the latest version of Firefox. And sign up for a better internet all around with a free Firefox Account.'),
      class="whats-new"
    )}}

    <div class="mzp-l-content">
      {% call feature_card(
        title=_('Built-In Tracking Controls'),
        ga_title='Built-In Tracking Controls',
        image_url='firefox/whatsnew_63/wnp63-tracking-controls.png',
        include_highres_image=True,
        aspect_ratio='mzp-has-aspect-3-2',
        class='mzp-l-card-feature-left-third tracking-controls',
        link_url='https://support.mozilla.org/kb/tracking-protection',
        link_cta=_('Learn more')
      ) %}
        <p>
          {% trans %}
            When you see the shield in the address bar, Firefox is blocking ads and unruly
            scripts from following you around the web. Select the icon to dial in the options.
          {% endtrans %}
        </p>
      {% endcall %}
    </div>

    <section class="mzp-c-hero mzp-has-image mzp-l-reverse mzp-t-dark content-blocking">
      <div class="mzp-l-content">
        <div class="mzp-c-hero-body">
          <h3 class="mzp-c-hero-title">{{ _('Better Content Blocking = Faster Internet') }}</h3>
          <div class="mzp-c-hero-desc">
            <p>
              {% trans %}
                Because ad trackers can do more than annoy you – they add data bloat that slows you down.
              {% endtrans %}
            </p>
          </div>
        </div>
      </div>

      <div class="mzp-c-hero-image">
        {% set content_blocking_image = 'firefox/whatsnew_63/wnp63-content-blocking.png' if DIR == 'ltr' else 'firefox/whatsnew_63/wnp63-content-blocking-rtl.png' %}
        {{ high_res_img(content_blocking_image, {'alt': ''}) }}
      </div>
    </section>

    <div class="mzp-l-content">
      {% call feature_card(
        title=_('Secure Syncing Across Devices'),
        ga_title='Secure Syncing Across Devices',
        image_url='firefox/whatsnew_63/wnp63-secure-sync-devices.png',
        include_highres_image=True,
        class='mzp-l-card-feature-left-third sync',
        link_url=url('firefox.accounts'),
        link_cta=_('Learn more')
      ) %}
        <p>
          {% trans %}
            With a Firefox Account, your data is secured with end-to-end encryption.
            Even we can’t see what you save, sync and send.
          {% endtrans %}
        </p>
      {% endcall %}
    </div>
  </section>

</main>
{% endblock %}

{% block js %}
  {% if show_newsletter %}
    {{ js_bundle('firefox_whatsnew_65_newsletter') }}
  {% endif %}
  {{ js_bundle('firefox_whatsnew_65') }}
{% endblock %}

