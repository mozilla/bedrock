{# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% from "macros-protocol.html" import hero, call_out_compact with context %}

{% from "macros.html" import fxa_link_fragment, google_play_button with context %}

{% add_lang_files "firefox/whatsnew_64" %}

{% extends "firefox/base/base-protocol.html" %}

{% if not is_translation %}
  {% set latest = _('Congrats! You’re using the latest version of Firefox.') %}
  {% set page_title = _('Get a Firefox Account – Keep your data private, safe and synced') %}
  {% set page_desc = _('Securely sync your passwords, bookmarks and tabs across all your devices. Get a Firefox Account now – One log-in – Power and privacy everywhere.') %}
  {% set hero_title_out = _('Now take your Firefox to the next level: get a Firefox Account') %}
  {% set hero_title_in = _('Check out all the latest benefits of your Firefox Account ') %}
  {% set hero_desc = _('One log-in gives you access to all these benefits') %}
  {% set button_create = _('Create a Firefox Account') %}
  {% set login_desc = _('Have an account?') %}
  {% set login_link = _('Log in') %}
  {% set notes_head = _('Pick up where you left off with Notes') %}
  {% set notes_desc = _('Your ideas and inspiration are secure and encrypted with Notes – and when you’re signed into your Account, they sync from your desktop to your Android devices.') %}
  {% set notes_link = _('Get the Notes App') %}
  {% set lockwise_head = _('Remember your passwords in Lockwise') %}
  {% set lockwise_desc = _('No more getting locked out of apps and websites. Lockwise secures all the passwords you’ve saved in Firefox and gives you easy access across all your iOS devices.') %}
  {% set lockwise_link = _('Get the Lockwise App') %}
  {% set pocket_head = _('Put quality content in your Pocket') %}
  {% set pocket_desc = _('Discover the web’s best content, and absorb it anytime – even offline – on any device. Pocket’s listen feature will even read any article aloud to you. Get it all from the Firefox toolbar or the Pocket app.') %}
  {% set pocket_link = _('Get the Pocket App') %}
  {% set sync_head = _('Send tabs instantly to your devices') %}
  {% set sync_desc = _('Send an open tab on one device to all your others with a single tap. Much easier than texting or emailing yourself those links.') %}
{% endif %}

{% block page_title %}{{ page_title }}{% endblock %}
{% block page_desc %}{{ page_desc }}{% endblock %}

{% block page_css %}
 {{ css_bundle('firefox_whatsnew_64') }}
{% endblock %}

{% block body_class %}state-fxa-default{% endblock %}

{% block site_header %}{% endblock %}

{% block content %}
<main class="mzp-t-firefox">
  <header class="c-page-header">
    <div class="mzp-l-content c-page-header-inner">
      {{ high_res_img('protocol/img/logos/firefox/browser/logo-word-hor-sm.png', {'alt': 'Firefox', 'width': '298', 'height': '55', 'class': 'c-page-header-logo-fx'}) }}
      <h1 class="c-page-header-up-to-date">{{ latest }}</h1>
      <img src="{{ static('img/logos/mozilla/wordmark-dark.svg') }}" alt="Mozilla" width="112" height="32" class="c-page-header-logo-moz">
    </div>
  </header>
  {% set content_blocking_image='img/firefox/whatsnew_64/hero.png' if DIR == 'ltr' else 'img/firefox/whatsnew_64/hero-rtl.png' %}
  {% call hero(
   title=hero_title_out,
   desc=hero_desc,
   class='mzp-has-image mzp-l-reverse t-wn64 show-fxa-default show-fxa-supported-signed-out',
   image_url=content_blocking_image,
   include_highres_image=true,
   include_cta=True
  ) %}
  <p class="show-fxa-supported-signed-out show-fxa-default">
    <a {{ fxa_link_fragment(entrypoint='mozilla.org-whatsnew64', action='signup') }} class="js-fxa-cta-link mzp-c-button mzp-t-product">{{ button_create }}</a><br>
    <span class="wn64-signin">{{ login_desc }} <a {{ fxa_link_fragment(entrypoint='mozilla.org-whatsnew64') }} class="js-fxa-cta-link">{{ login_link }}</a></span>
  </p>
  {% endcall %}
  {% call hero(
   title=hero_title_in,
   class='mzp-has-image mzp-l-reverse t-wn64 show-fxa-supported-signed-in',
   image_url=content_blocking_image,
   include_highres_image=true
  ) %}
  {% endcall %}

  <div class="mzp-l-content">
    <div class="wn64-benefit wn64-notes">
      {{ high_res_img('img/firefox/whatsnew_64/fxa-notes.png', {'alt': '', 'width': '590', 'height': '590'}) }}
      <h3>{{ notes_head }}</h3>
      <p>{{ notes_desc }}</p>
      <p><a class="mzp-c-button wn64-benefit-link" data-app="notes" href="https://play.google.com/store/apps/details?id=org.mozilla.testpilot.notes">{{ notes_link }}</a></p>
    </div>

    <div class="wn64-benefit wn64-lockwise">
      {{ high_res_img('img/firefox/whatsnew_64/fxa-lockwise.png', {'alt': '', 'width': '590', 'height': '590'}) }}
      <h3>{{ lockwise_head }}</h3>
      <p>{{ lockwise_desc }}</p>
      <p><a class="mzp-c-button wn64-benefit-link" data-app="lockwise" href="https://app.adjust.com/orzhlh0">{{ lockwise_link }}</a></p>
    </div>

    <div class="wn64-benefit wn64-pocket">
      {{ high_res_img('img/firefox/whatsnew_64/fxa-pocket.png', {'alt': '', 'width': '590', 'height': '590'}) }}
      <h3>{{ pocket_head }}</h3>
      <p>{{ pocket_desc }}</p>
      <p><a class="mzp-c-button wn64-benefit-link" data-app="pocket" href="https://getpocket.com/">{{ pocket_link }}</a></p>
    </div>

    <div class="wn64-benefit wn64-sync">
      {{ high_res_img('img/firefox/whatsnew_64/fxa-sync.png', {'alt': '', 'width': '590', 'height': '590'}) }}
      <h3>{{ sync_head }}</h3>
      <p>{{ sync_desc }}</p>
    </div>
  </div>

  {% call call_out_compact(
    title=page_title,
    desc=None,
    class='mzp-t-firefox t-wn64 show-fxa-default show-fxa-supported-signed-out'
  ) %}
    <p>
      <a {{ fxa_link_fragment(entrypoint='mozilla.org-whatsnew64', action='signup', utm_content='whatsnew64-bottom-cta') }} class="js-fxa-cta-link mzp-c-button mzp-t-product">{{ button_create }}</a><br>
      <span class="wn64-signin">{{ login_desc }} <a {{ fxa_link_fragment(entrypoint='mozilla.org-whatsnew64', utm_content='whatsnew64-bottom-cta') }} class="js-fxa-cta-link">{{ login_link }}</a></span>
    </p>
  {% endcall %}

  <aside id="wn64-modal" class="mzp-u-modal-content">
    <div class="mobile-notes">
      <div class="qr-notes">
          <img class="mobile-qr" src="{{ static('img/firefox/whatsnew_64/notes-qr.png') }}" height="300" width="300">
          <ul class="mobile-download-buttons mobile-notes">
            <li class="android">
              {{ google_play_button(href='https://play.google.com/store/apps/details?id=org.mozilla.testpilot.notes') }}
            </li>
          </ul>
      </div>
    </div>
    <div class="mobile-lockwise">
      <img class="mobile-qr" src="{{ static('img/firefox/whatsnew_64/lockwise-qr.png') }}" height="300" width="300">
        <ul class="mobile-download-buttons mobile-lockwise">
        <li class="ios">
          <a href="{{ lockwise_adjust_url('ios', 'whatsnew-64-page') }}" data-link-type="download" data-download-os="iOS">
            <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="" width="152" height="45">
          </a>
        </li>
      </ul>
    </div>
    <div class="mobile-pocket">
        <img class="mobile-qr" src="{{ static('img/firefox/whatsnew_64/pocket-qr.png') }}" height="300" width="300">
        <ul class="mobile-download-buttons mobile-pocket">
          <li class="android">
            {{ google_play_button(href=pocket_adjust_url('android', 'whatsnew-64-page')) }}
          </li>
          <li class="ios">
            <a href="{{ pocket_adjust_url('ios', 'whatsnew-64-page') }}" data-link-type="download" data-download-os="iOS">
              <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="" width="152" height="45">
            </a>
          </li>
        </ul>
    </div>
  </aside>
</main>
{% endblock %}

{% block js %}
 {{ js_bundle('firefox_whatsnew_64') }}
{% endblock %}
