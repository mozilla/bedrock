{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% from "macros-protocol.html" import picto with context %}

{% extends "firefox/whatsnew/base.html" %}

{% block page_title %}{{ ftl('whatsnew-page-title') }}{% endblock %}

{#- This will appear as <meta property="og:description"> which can be used for social share -#}
{% block page_og_desc %}{{ ftl('whatsnew-page-description') }}{% endblock %}

{% block body_id %}firefox-whatsnew{% endblock %}
{% block body_class %}wnp93-v3{% endblock %}

{% block page_css %}
  {{ css_bundle('firefox_whatsnew_93') }}
{% endblock %}

{% block site_header %}{% endblock %}

{% block content %}
<main class="content-wrapper mzp-t-firefox">
  {% include 'firefox/whatsnew/includes/header.html' %}

  {% set landing_source = '?source=' + campaign if campaign else '' %}
  {% set landing_variant = '-v' + variant if variant else '' %}

  <section class="wnp-content-main">
    <div class="mzp-l-content mzp-t-content-lg">
      <h1 class="wnp-pre-title">It’s Cyber Security Month</h1>
      <h2 class="wnp-main-title">Now’s the time to get true privacy online</h2>

      <div class="wnp-main-image video-container">
        <video id="video" preload="metadata" autoplay loop muted poster="{{ static('img/firefox/whatsnew/whatsnew93/hero-v3.svg') }}">
          <source src="{{ static('img/firefox/whatsnew/whatsnew93/hero-v3.webm') }}" type="video/webm">
        </video>
      </div>

      <p class="wnp-main-tagline">Block prying eyes from seeing your location and browsing history with a Virtual Private Network from Mozilla, the most trusted name in tech.</p>

      <div class="wnp-main-cta">
        <a href="{{ url('products.vpn.landing') }}{{ landing_source }}{{ landing_variant }}" class="mzp-c-button mzp-t-product mzp-t-lg" data-cta-text="Boost your privacy" data-cta-type="button">Boost your privacy</a>
      </div>
    </div>
  </section>

  <aside class="mzp-l-content c-utilities">
    {% set releasenotes_url = url('firefox.releases.index') if not version else '/firefox/%s/releasenotes/'|format(version) %}
    <p>{{ ftl('whatsnew-release-notes', url=releasenotes_url) }}</p>
  </aside>
</main>
{% endblock %}

{% block js %}
  {{ js_bundle('firefox_whatsnew_93') }}

  {% if switch('firefox-whatsnew-93-experiment-en') %}
    {{ js_bundle('firefox_whatsnew_93_experiment_en') }}
  {% endif %}
{% endblock %}
