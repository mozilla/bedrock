{#
  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% extends "firefox/welcome/base.html" %}

{% block page_title %}{% endblock %}

{% block page_image %}{{ static('img/products/vpn/common/social-share.png') }}{% endblock %}

{% block body_class %}welcome-page15{% endblock %}

{% block page_css %}
  {{ css_bundle('protocol-picto') }}
  {{ css_bundle('firefox_welcome_page15') }}
{% endblock %}

{% set _entrypoint = 'mozilla.org-firefox-welcome-15' %}
{% set _utm_campaign = 'welcome-15-vpn' %}

{% block experiments %}
  {% if switch('welcome-15-experiment', ['en', 'de', 'fr']) %}
    {{ js_bundle('firefox_welcome_page15_experiment') }}
  {% endif %}
{% endblock %}

{% block shoulder_logo %}
  {{ picture(
    url="protocol/img/logos/firefox/browser/logo-word-hor.svg",
    sources=[
      {
        "media": "(prefers-color-scheme: light)",
        "srcset": {
          "protocol/img/logos/firefox/browser/logo-word-hor.svg": "default",
        }
      },
      {
        "media": "(prefers-color-scheme: dark)",
        "srcset": {
          "protocol/img/logos/firefox/browser/logo-word-hor-white.svg": "default",
        }
      }
    ],
    optional_attributes={
      "class": "c-header-logo",
      "alt": "Firefox",
      "width": "216",
      "height": "40",
    }
  ) }}
{% endblock %}

{% block shoulder_cta %}{% endblock %}

{% block content_intro %}
    {% if variation == '2' %}
      <div class="c-main variation-2 mzp-l-content mzp-t-content-lg">
        <img class="c-main-logo" src="/media/protocol/img/logos/mozilla/vpn/logo-flat.svg" width="60" alt="">
        <h1 class="c-main-title">{{ var_2_main_title }}</h1>
        <p class="c-main-tagline">
          {{ var_2_main_tagline }}
        </p>
        {{ vpn_product_referral_link(
          referral_id='welcome-page15-v2',
          link_to_pricing_page=True,
          link_text=cta_text,
          class_name='mzp-t-product mzp-t-xl',
          optional_attributes= {
                'data-cta-text' : 'Try Mozilla VPN',
                'data-cta-type' : 'button'
          }
        )}}
      </div>
    {% else %}
      <div class="c-main variation-1 mzp-l-content mzp-t-content-md">
        <img class="c-main-logo" src="/media/protocol/img/logos/mozilla/vpn/logo-flat.svg" width="60" alt="">
        <h1 class="c-main-title">{{ var_1_main_title }}</h1>

        <div class="c-main-image">
          {{ picture(
            url="img/firefox/welcome/page15/hero-light.svg",
            sources=[
              {
                "media": "(prefers-color-scheme: light)",
                "srcset": {
                  "img/firefox/welcome/page15/hero-light.svg": "default",
                }
              },
              {
                "media": "(prefers-color-scheme: dark)",
                "srcset": {
                  "img/firefox/welcome/page15/hero-dark.svg": "default",
                }
              }
            ],
            optional_attributes={
              "alt": "",
              "width": "600",
              "height": "300",
            }
          ) }}
        </div>
        <p class="c-main-tagline">
          {{ var_1_main_tagline }}
        </p>
        {{ vpn_product_referral_link(
          referral_id='welcome-page15-v1',
          link_to_pricing_page=True,
          link_text=cta_text,
          class_name='mzp-t-product mzp-t-xl',
          optional_attributes= {
                'data-cta-text' : 'Try Mozilla VPN',
                'data-cta-type' : 'button'
          }
        )}}
      </div>
    {% endif %}
{% endblock %}

{% block content_body %}
  {% if variation == '2' %}
    <section class="page-body">
      <div class="mzp-l-content mzp-t-content-lg">
        <div class="mzp-l-columns mzp-t-columns-two">
          <div class="mzp-c-picto">
            <div class="mzp-c-picto-image">
              {{ picture(
                url="img/firefox/welcome/page15/shield-light.svg",
                sources=[
                  {
                    "media": "(prefers-color-scheme: light)",
                    "srcset": {
                      "img/firefox/welcome/page15/shield-light.svg": "default",
                    }
                  },
                  {
                    "media": "(prefers-color-scheme: dark)",
                    "srcset": {
                      "img/firefox/welcome/page15/shield-dark.svg": "default",
                    }
                  }
                ],
                optional_attributes={
                  "alt": "",
                  "width": "130",
                  "height": "150",
                }
              ) }}
            </div>
            <h3 class="mzp-c-picto-title">{{ var_2_bucket_1_title }}</h3>
            <div class="mzp-c-picto-body">
              <p>{{ var_2_bucket_1_desc }}</p>
            </div>
          </div>

          <div class="mzp-c-picto">
            <div class="mzp-c-picto-image">
              {{ picture(
                url="img/firefox/welcome/page15/devices-light.svg",
                sources=[
                  {
                    "media": "(prefers-color-scheme: light)",
                    "srcset": {
                      "img/firefox/welcome/page15/devices-light.svg": "default",
                    }
                  },
                  {
                    "media": "(prefers-color-scheme: dark)",
                    "srcset": {
                      "img/firefox/welcome/page15/devices-dark.svg": "default",
                    }
                  }
                ],
                optional_attributes={
                  "alt": "",
                  "width": "287",
                  "height": "200",
                }
              ) }}
            </div>
            <h3 class="mzp-c-picto-title">{{ var_2_bucket_2_title }}</h3>
            <div class="mzp-c-picto-body">
              <p>{{ var_2_bucket_2_desc }}</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  {% endif %}
{% endblock %}

{% block content_utility %}
<p>
  <strong>
    <a href="https://support.mozilla.org/kb/firefox-browser-welcome-pages/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
      {{ utility_link_copy }}
    </a>
  </strong>
</p>
{% endblock %}
