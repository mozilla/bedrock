{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% from "macros.html" import fxa_email_form with context %}
{% from "macros-protocol.html" import callout, split, picto with context %}

{% extends "firefox/privacy/base.html" %}

{% block page_title_full %}{{ ftl('firefox-privacy-hub-firefox-privacy-by-the') }}{% endblock %}
{% block page_desc %}{{ ftl('firefox-privacy-hub-mozilla-protects-your-privacy', fallback= 'firefox-privacy-hub-firefox-protects-your-privacy') }}{% endblock %}

{% block page_css %}
  {{ super() }}
  {{ css_bundle('protocol-emphasis-box') }}
  {{ css_bundle('firefox-privacy-products') }}
{% endblock %}

{% block body_class %}{{ super() }} privacy-products{% endblock %}

{% set _entrypoint = 'mozilla.org-privacy-products' %}
{% set _utm_campaign = 'privacy-products' %}

{% block hub_content %}

  {{ callout(
    title=ftl('firefox-privacy-hub-mozilla-protects-your-privacy-strong', fallback='firefox-privacy-hub-firefox-protects-your-privacy-strong')|safe,
    class='privacy-products-callout-main',
    heading_level=1)
  }}

  {% call split(
    image=resp_img('img/firefox/privacy/products/report.svg', optional_attributes={ 'class': 'mzp-c-split-media-asset', 'l10n': 'true'}),
    block_class='privacy-products-hero mzp-t-dark mzp-l-split-hide-media-on-sm-md',
    media_class='mzp-l-split-media-overflow'
  ) %}
    <div class="mzp-c-wordmark mzp-t-wordmark-md mzp-t-product-firefox">
      <h2>{{ ftl('firefox-privacy-hub-firefox-browser') }}</h2>
    </div>
    <h3 class="privacy-products-hero-sub-title">
      {{ ftl('firefox-privacy-hub-2000-trackers-blocked-automatically') }}
    </h3>

    <p>{{ ftl('firefox-privacy-hub-tracking-has-become-an') }}</p>

    <p class="show-mobile hide-from-legacy-ie">
      <strong>{{ ftl('firefox-privacy-hub-if-you-want-to-see-what') }}</strong>
    </p>

    <p class="show-firefox-desktop-70 hide-from-legacy-ie">
      <a class="mzp-c-cta-link js-open-about-protections" href="https://support.mozilla.org/en-US/kb/enhanced-tracking-protection-firefox-desktop/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-see-what-firefox-has-blocked') }}
      </a>
    </p>

    <p class="privacy-products-hero-tagline show-default show-firefox-desktop-old">
      {{ ftl('firefox-privacy-hub-get-enhanced-tracking-protection') }}
    </p>

    <div class="show-default">
      {{ download_firefox(dom_id='download-button-primary-non-firefox', alt_copy=ftl('firefox-privacy-hub-download-the-firefox-browser'), download_location='primary cta') }}
    </div>

    <p class="show-firefox-desktop-old hide-from-legacy-ie">
      <a class="mzp-c-cta-link" href="https://support.mozilla.org/kb/update-firefox-latest-release/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-update-your-firefox-browser') }}
      </a>
    </p>
  {% endcall %}

  <div class="privacy-products-etp mzp-t-dark">
    <ul class="mzp-l-content mzp-l-columns mzp-t-columns-three">
      {% call picto(
        title=ftl('firefox-privacy-hub-invisible-to-the-top-trackers'),
        image=resp_img(
          url='img/firefox/privacy/products/icon-invisible.svg',
          optional_attributes={
            'class': 'mzp-c-picto-image',
            'width': '64',
            'loading': 'lazy'
          }
        ),
        base_el='li',
        body=True
      ) %}
        <p>{{ ftl('firefox-privacy-hub-meet-four-of-the-most-common') }}</p>
      {% endcall %}
      {% call picto(
        title=ftl('firefox-privacy-hub-always-in-your-control'),
        image=resp_img(
          url='img/firefox/privacy/products/icon-control.svg',
          optional_attributes={
            'class': 'mzp-c-picto-image',
            'width': '64',
            'loading': 'lazy'
          }
        ),
        base_el='li',
        body=True
      ) %}
        <p>{{ ftl('firefox-privacy-hub-want-to-customize-what') }}</p>
      {% endcall %}
      {% call picto(
        title=ftl('firefox-privacy-hub-protection-beyond-tracking'),
        image=resp_img(
          url='img/firefox/privacy/products/icon-protection.svg',
          optional_attributes={
            'class': 'mzp-c-picto-image',
            'width': '64',
            'loading': 'lazy'
          }
        ),
        base_el='li',
        body=True
      ) %}
        <p>{{ ftl('firefox-privacy-hub-if-you-have-a-mozilla-account', fallback='firefox-privacy-hub-if-you-have-a-firefox-account') }}</p>

        {% endcall %}
    </ul>
  </div>

  {% call callout(
    title=ftl('firefox-privacy-hub-more-than-s-trackers-blocked', trackers=10000000000),
    class='privacy-products-tracker-counter mzp-t-dark',
    include_cta=True
  ) %}
    <p class="show-firefox-desktop-70 hide-from-legacy-ie">
      <a class="mzp-c-cta-link js-open-about-protections" href="https://support.mozilla.org/kb/enhanced-tracking-protection-firefox-desktop/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-see-what-firefox-has-blocked') }}
      </a>
    </p>

    <div class="show-default">
      {{ download_firefox(dom_id='download-button-secondary-non-firefox', alt_copy=ftl('firefox-privacy-hub-download-the-firefox-browser'), download_location='secondary cta') }}
    </div>

    <p class="show-firefox-desktop-old hide-from-legacy-ie">
      <a class="mzp-c-cta-link" href="https://support.mozilla.org/kb/update-firefox-latest-release/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-update-your-firefox-browser') }}
      </a>
    </p>
  {% endcall %}

  <div class="privacy-products-list t-medium">
    {% call split(
      image=resp_img('img/firefox/privacy/products/monitor.svg', optional_attributes={ 'class': 'mzp-c-split-media-asset'}),
      media_class='mzp-l-split-h-center'
    ) %}
      {% set mozilla_monitor = switch('mozilla-monitor-brand-name') %}
      <div class="mzp-c-wordmark mzp-t-wordmark-md {% if mozilla_monitor %}t-product-mozilla-monitor{% else %}mzp-t-product-monitor{% endif %}">
        <h2>
          {% if mozilla_monitor %}
            {{ ftl('firefox-privacy-hub-mozilla-monitor', fallback='firefox-privacy-hub-firefox-monitor') }}
          {% else %}
            {{ ftl('firefox-privacy-hub-firefox-monitor') }}
          {% endif %}
        </h2>
      </div>
      <p>
        {% if mozilla_monitor %}
          {{ ftl('firefox-privacy-hub-when-you-enter-your-email-v2', fallback='firefox-privacy-hub-when-you-enter-your-email') }}
        {% else %}
          {{ ftl('firefox-privacy-hub-when-you-enter-your-email') }}
        {% endif %}
      </p>
      <p>
        <a class="mzp-c-cta-link" href="https://monitor.mozilla.org/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}" data-cta-type="fxa-monitor" data-cta-text="Check for breaches" data-cta-position="secondary">
        {{ ftl('firefox-privacy-hub-check-for-breaches') }}
        </a>
      </p>
    {% endcall %}

  {% if ftl_has_messages('firefox-privacy-hub-surf-stream-and-get-work') %}
    {% call split(
      image=resp_img('img/firefox/privacy/products/vpn.svg', optional_attributes={ 'class': 'mzp-c-split-media-asset'}),
      block_class='mzp-l-split-reversed',
      media_class='mzp-l-split-h-center'
    ) %}
      <div class="mzp-c-wordmark mzp-t-wordmark-md mzp-t-product-vpn">
        <h2>{{ ftl('firefox-privacy-hub-mozilla-vpn') }}</h2>
      </div>
      <p>{{ ftl('firefox-privacy-hub-surf-stream-and-get-work') }}</p>
      <p>
        <a class="mzp-c-cta-link" href="{{ url('products.vpn.landing' )}}" data-cta-type="vpn" data-cta-text="VPN" data-cta-position="secondary">
          {{ ftl('firefox-privacy-hub-get-mozilla-vpn') }}
        </a>
      </p>
    {% endcall %}
  {% endif %}

  {% if ftl_has_messages('firefox-privacy-hub-protection-for-your-whole') %}
  {% set block_class = '' %}
  {% else %}
  {% set block_class = 'mzp-l-split-reversed' %}
  {% endif %}
    {% call split(
      image=resp_img('img/firefox/privacy/products/pocket.png',
        srcset={ 'img/firefox/privacy/products/pocket-high-res.png': '2x' },
        optional_attributes={ 'class': 'mzp-c-split-media-asset'}
      ),
      block_class=block_class,
      media_class='mzp-l-split-h-center'
    ) %}
      <div class="mzp-c-wordmark mzp-t-wordmark-md mzp-t-product-pocket">
        <h2>{{ ftl('firefox-privacy-hub-pocket') }}</h2>
      </div>
      <p>{{ ftl('firefox-privacy-hub-pocket-recommends-high') }}</p>
      <p>
        <a class="mzp-c-cta-link" href="https://getpocket.com/firefox_learnmore/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}" data-cta-type="pocket" data-cta-position="secondary">
          {{ ftl('firefox-privacy-hub-get-pocket') }}
        </a>
      </p>
    {% endcall %}

    <section class="privacy-products-accounts mzp-l-content mzp-l-columns mzp-t-columns-two">
      <div>
        <h2 class="mzp-c-card-feature-title">
            {{ ftl('firefox-privacy-hub-your-mozilla-account', fallback='firefox-privacy-hub-your-firefox-account') }}
        </h2>
        <div class="mzp-c-card-feature-desc">
            {{ ftl('firefox-privacy-hub-all-the-information-synced-v2', fallback='firefox-privacy-hub-all-the-information-synced') }}
        </div>
      </div>
      <div class="mzp-c-emphasis-box">
        {{ fxa_email_form(
          entrypoint=_entrypoint,
          form_title=ftl('firefox-privacy-hub-take-your-privacy-and-bookmarks-v2', fallback='firefox-privacy-hub-take-your-privacy-and-bookmarks'),
          button_class='mzp-c-button mzp-t-primary mzp-t-product',
          style='trailhead',
          utm_campaign=_utm_campaign
        ) }}

        <p class="fxa-signin">
          {{ ftl('firefox-privacy-hub-already-have-an-account-v2',
             fallback='firefox-privacy-hub-already-have-an-account',
             sign_in=fxa_link_fragment(entrypoint=_entrypoint, action='signin', optional_parameters={'utm_campaign': _utm_campaign}),
             class_name='js-fxa-cta-link js-fxa-product-button',
             learn_more=url('firefox.accounts')
          )}}
        </p>
      </div>
    </section>
  </div>

{% endblock %}

{% block js %}
  {{ js_bundle('fxa_form') }}
  {{ js_bundle('firefox-privacy-products') }}
{% endblock %}
