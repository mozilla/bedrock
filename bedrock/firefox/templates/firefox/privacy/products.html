{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% from "macros.html" import fxa_email_form with context %}
{% from "macros-protocol.html" import call_out, feature_card, picto_card, hero with context %}

{% extends "firefox/privacy/base.html" %}

{% block page_title_full %}{{ ftl('firefox-privacy-hub-firefox-privacy-by-the') }}{% endblock %}
{% block page_desc %}{{ ftl('firefox-privacy-hub-firefox-protects-your-privacy') }}{% endblock %}

{% block page_css %}
  {{ super() }}
  {{ css_bundle('firefox-privacy-products') }}
{% endblock %}

{% block body_class %}{{ super() }} privacy-products{% endblock %}

{% set _entrypoint = 'mozilla.org-privacy-products' %}
{% set _utm_campaign = 'privacy-products' %}

{% block hub_content %}

  {{ call_out(
    title=ftl('firefox-privacy-hub-firefox-protects-your-privacy-strong')|safe,
    class='privacy-products-call-out-main',
    heading_level=1)
  }}

  {% call hero(
    title=ftl('firefox-privacy-hub-firefox-browser'),
    class='privacy-products-hero mzp-has-image mzp-t-dark t-medium',
    image_url='img/firefox/privacy/products/report.svg',
    l10n_image=True,
    include_cta=True,
    heading_level=2
  ) %}
    <h3 class="privacy-products-hero-sub-title">
      {{ ftl('firefox-privacy-hub-2000-trackers-blocked-automatically') }}
    </h3>

    <p>{{ ftl('firefox-privacy-hub-tracking-has-become-an') }}</p>

    <p class="show-mobile hide-from-legacy-ie">
      <strong>{{ ftl('firefox-privacy-hub-if-you-want-to-see-what') }}</strong>
    </p>

    <p class="show-firefox-desktop-70 hide-from-legacy-ie">
      <a class="mzp-c-cta-link js-open-about-protections" href="https://support.mozilla.org/en-US/kb/enhanced-tracking-protection-firefox-desktop/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-see-what-firefox-has-blocked') }}
      </a>
    </p>

    <p class="privacy-products-hero-tagline show-default show-firefox-desktop-old">
      {{ ftl('firefox-privacy-hub-get-enhanced-tracking-protection') }}
    </p>

    <div class="show-default">
      {{ download_firefox(dom_id='download-button-primary-non-firefox', alt_copy=ftl('firefox-privacy-hub-download-the-firefox-browser'), download_location='primary cta') }}
    </div>

    <p class="show-firefox-desktop-old hide-from-legacy-ie">
      <a class="mzp-c-cta-link" href="https://support.mozilla.org/kb/update-firefox-latest-release/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-update-your-firefox-browser') }}
      </a>
    </p>
  {% endcall %}

  <div class="privacy-products-etp">
    <ul class="mzp-l-content mzp-l-card-third mzp-t-dark">
      {{ picto_card(title=ftl('firefox-privacy-hub-invisible-to-the-top-trackers'), desc=ftl('firefox-privacy-hub-meet-four-of-the-most-common'), class='invisible', heading_level=3) }}
      {{ picto_card(title=ftl('firefox-privacy-hub-always-in-your-control'), desc=ftl('firefox-privacy-hub-want-to-customize-what'), class='control', heading_level=3) }}
      {{ picto_card(title=ftl('firefox-privacy-hub-protection-beyond-tracking'), desc=ftl('firefox-privacy-hub-if-you-have-a-firefox-account'), class='protection', heading_level=3) }}
    </ul>
  </div>

  {% call call_out(
    title=ftl('firefox-privacy-hub-more-than-s-trackers-blocked', trackers=10000000000),
    class='privacy-products-tracker-counter mzp-t-dark',
    include_cta=True
  ) %}
    <p class="show-firefox-desktop-70 hide-from-legacy-ie">
      <a class="mzp-c-cta-link js-open-about-protections" href="https://support.mozilla.org/kb/enhanced-tracking-protection-firefox-desktop/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-see-what-firefox-has-blocked') }}
      </a>
    </p>

    <div class="show-default">
      {{ download_firefox(dom_id='download-button-secondary-non-firefox', alt_copy=ftl('firefox-privacy-hub-download-the-firefox-browser'), download_location='secondary cta') }}
    </div>

    <p class="show-firefox-desktop-old hide-from-legacy-ie">
      <a class="mzp-c-cta-link" href="https://support.mozilla.org/kb/update-firefox-latest-release/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}">
        {{ ftl('firefox-privacy-hub-update-your-firefox-browser') }}
      </a>
    </p>
  {% endcall %}

  <div class="privacy-products-list t-medium">
    <div class="mzp-l-content">
      {% call feature_card(
        title=ftl('firefox-privacy-hub-firefox-monitor'),
        image_url='img/firefox/privacy/products/monitor.svg',
        class='privacy-products-monitor has-logo mzp-l-card-feature-left-half',
        media_after=True
      ) %}
        <p>{{ ftl('firefox-privacy-hub-when-you-enter-your-email') }}</p>
        <p>
          <a class="mzp-c-cta-link" href="https://monitor.firefox.com/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}" data-cta-type="fxa-monitor" data-cta-position="secondary">
          {{ ftl('firefox-privacy-hub-check-for-breaches') }}
          </a>
        </p>
      {% endcall %}

      {% call feature_card(
        title=ftl('firefox-privacy-hub-firefox-lockwise'),
        image_url='img/firefox/privacy/products/lockwise.svg',
        class='privacy-products-lockwise has-logo mzp-l-card-feature-right-half',
        media_after=True
      ) %}
        <p>{{ ftl('firefox-privacy-hub-the-passwords-and-credentials') }}</p>
        <p>
          <a class="mzp-c-cta-link" href="{{ url('firefox.products.lockwise' )}}" data-cta-type="fxa-lockwise" data-cta-position="secondary">
            {{ ftl('firefox-privacy-hub-learn-more-about-lockwise') }}
          </a>
        </p>
      {% endcall %}

      {% call feature_card(
        title=ftl('firefox-privacy-hub-pocket'),
        image_url='img/firefox/privacy/products/pocket.png',
        include_highres_image=True,
        class='privacy-products-pocket has-logo mzp-l-card-feature-left-half',
        media_after=True
      ) %}
        <p>{{ ftl('firefox-privacy-hub-pocket-recommends-high') }}</p>
        <p>
          <a class="mzp-c-cta-link" href="https://getpocket.com/firefox_learnmore/?utm_source={{ _entrypoint }}&utm_medium=referral&utm_campaign={{ _utm_campaign }}&entrypoint={{ _entrypoint }}" data-cta-type="pocket" data-cta-position="secondary">
            {{ ftl('firefox-privacy-hub-get-pocket') }}
          </a>
        </p>
      {% endcall %}

      <section class="privacy-products-accounts mzp-c-card-feature mzp-l-card-feature-left-half">
        <div class="mzp-c-card-feature-content">
          <div class="mzp-c-card-feature-content-container">
            <h2 class="mzp-c-card-feature-title">{{ ftl('firefox-privacy-hub-your-firefox-account') }}</h2>
            <div class="mzp-c-card-feature-desc">
              {{ ftl('firefox-privacy-hub-all-the-information-synced') }}
            </div>
          </div>
        </div>
        <div class="mzp-c-card-feature-media-wrapper">
          <div class="mzp-c-card-feature-media">
            <div class="mzp-c-emphasis-box">
              {{ fxa_email_form(
                entrypoint=_entrypoint,
                form_title=ftl('firefox-privacy-hub-take-your-privacy-and-bookmarks'),
                button_class='mzp-c-button mzp-t-primary mzp-t-product',
                style='trailhead',
                utm_campaign=_utm_campaign)
              }}

              <p class="fxa-signin">
              {{ ftl('firefox-privacy-hub-already-have-an-account',
                     sign_in=fxa_link_fragment(entrypoint=_entrypoint, action='signin', optional_parameters={'utm_campaign': _utm_campaign}),
                     class_name='js-fxa-cta-link js-fxa-product-button',
                     learn_more=url('firefox.accounts') )}}
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
{% endblock %}

{% block js %}
  {{ js_bundle('firefox-privacy-products') }}
{% endblock %}
