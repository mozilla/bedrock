{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% extends "firefox/new/basic/base_download.html" %}

{% from "macros-protocol.html" import picto with context %}

{% block experiments %}{% endblock %}

{# This template can render with EITHER 'firefox/new/download.ftl' OR 'firefox/new/platform.ftl' active
 # download.ftl contains strings for the hero and small-links for the platform pages
 # platform.ftl contains strings for the hero, small-links, and features sections for the platform pages
 # the view for the platform pages will activate the locale if either language file is active  #}

{% block extrahead %}
  {{ super() }}
  {{ css_bundle('protocol-picto') }}
  {{ css_bundle('firefox_new_platform') }}
{% endblock %}

{% if ftl_file_is_active('firefox/new/platform') %}
  {% set small_advanced = ftl('new-platform-advanced-install-options') %}
  {% set small_lang = ftl('new-platform-download-in-another') %}
  {% set small_help = ftl('new-platform-need-help') %}
{# else it will fall back to the strings from new/download.ftl specified in base_download #}
{% endif %}

{% block features %}
  {% if ftl_file_is_active('firefox/new/platform') %}
    <section class="features">
      <ul class="mzp-l-content mzp-l-columns mzp-t-columns-three mzp-t-picto-center">
        {% call picto(
          title=card1_title,
          image=resp_img(
            url=card1_image_url,
            optional_attributes={
              'class': 'mzp-c-picto-image',
              'width': '96'
            }
          ),
          body=True,
          base_el='li'
        ) %}
          {{ card1_desc }}
        {% endcall %}
        {% call picto(
          title=card2_title,
          image=resp_img(
            url=card2_image_url,
            optional_attributes={
              'class': 'mzp-c-picto-image',
              'width': '96'
            }
          ),
          body=True,
          base_el='li'
        ) %}
          {{ card2_desc }}
        {% endcall %}
        {% call picto(
          title=card3_title,
          image=resp_img(
            url=card3_image_url,
            optional_attributes={
              'class': 'mzp-c-picto-image',
              'width': '96'
            }
          ),
          body=True,
          base_el='li'
        ) %}
          {{ card3_desc }}
        {% endcall %}
      </ul>
    </section>
  {% endif %}
{% endblock %}
