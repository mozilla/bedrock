{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% extends "/firefox/base/base-protocol.html" %}

{# "noindex" pages should not have the canonical or hreflang tags: bug 1442331 #}
{% block canonical_urls %}<meta name="robots" content="noindex,follow">{% endblock %}

{% block page_css %}
  {{ css_bundle('nightly_whatsnew') }}
{% endblock %}

{% block page_title_prefix %}{% endblock %}
{% block page_image %}{{ static('protocol/img/logos/firefox/browser/nightly/og.png') }}{% endblock %}
{% block page_favicon %}{{ static('img/favicons/firefox/browser/nightly/favicon.ico') }}{% endblock %}
{% block page_favicon_large %}{{ static('img/favicons/firefox/browser/nightly/favicon-196x196.png') }}{% endblock %}
{% block page_ios_icon %}{{ static('img/favicons/firefox/browser/nightly/apple-touch-icon.png') }}{% endblock %}
{% block page_title %}{{ _('You’ve just been upgraded to Firefox Nightly %(version)s!')|format(version=num_version) }}{% endblock %}
{% block page_title_suffix %}{% endblock %}
{% block page_og_url %}{{ firefox_url('desktop', 'all', 'nightly') }}{% endblock %}

{% block body_id %}nightly-whatsnew{% endblock %}

{% block site_header %}{% endblock %}

{% block content %}
<main class="content-wrapper mzp-t-firefox mzp-t-dark">
  {% set message = _('Your Firefox Nightly has been updated.') if l10n_has_tag('rebrand_nightly_whatsnew_021418') else self.page_title() %}
  <header class="c-page-header">
    <div class="mzp-l-content c-page-header-inner">
      {{ high_res_img('protocol/img/logos/firefox/browser/nightly/logo-word-hor-white-sm.png', {'alt': 'Firefox Nightly', 'width': '216', 'height': '40', 'class': 'c-page-header-logo-fx'}) }}
      <div class="mzp-c-notification-bar mzp-t-success up-to-date">
        <p>{{ message }}</p>
      </div>
    </div>
  </header>

  <div class="mzp-l-content">
    <div class="mzp-c-emphasis-box">
      <h2 class="c-emphasis-box-title">{{ self.page_title() }}</h2>
      <p>
        {% if l10n_has_tag('four_weeks_train_2019') %}
          {{ _('Every 4 to 5 weeks, a new major version of Firefox is released and as a result, the Nightly version increases as well.') }}
        {% else %}
          {{ _('Every 6 to 8 weeks, a new major version of Firefox is released and as a result, the Nightly version increases as well.') }}
        {% endif %}
      </p>

      <p>
        {% trans %}
          This is a good time to thank you for helping us make Firefox better and to give you some pointers to
          documentation, communication channels and news sites related to Nightly that may be of interest to you.
        {% endtrans %}
      </p>
      <p>
        {% trans blog='https://blog.nightly.mozilla.org/', twitter='https://twitter.com/FirefoxNightly' %}
          If you want to know what’s happening around Nightly and its community, reading our
          <a href="%(blog)s">blog</a> and following us on <a href="%(twitter)s">Twitter</a> are good starting
          points!
        {% endtrans %}
      </p>
      <p>
        {% trans mdn='https://developer.mozilla.org/en-US/Firefox/Experimental_features'
                      '?utm_source=firefox&utm_medium=whatsnew&utm_campaign=nightly' %}
          Want to know which platform features you could test on Nightly and can’t see yet on other Firefox
          channels? Then have a look at the <a href="%(mdn)s">Experimental Features</a> page on
          <abbr title="Mozilla Developer Network">MDN</abbr>.
        {% endtrans %}
      </p>
      <p>
        {% trans bugzilla='https://bugzilla.mozilla.org' %}
          Do you experience crashes? Unexpected behavior? Web compatibility regressions? We’d love to get them
          filed in <a href="%(bugzilla)s">Bugzilla</a> to make sure they don’t make it to the final release (extra
          karma if you add the <em>nightly-community</em> keyword to your bug reports)!
        {% endtrans %}
      </p>
      <p>{{ _('Go community!') }}</p>
    </div>
  </div>
</main>
{% endblock %}

{% block js %}
  {{ js_bundle('firefox_whatsnew') }}
{% endblock %}
