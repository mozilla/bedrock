{# This Source Code Form is subject to the terms of the Mozilla Public
  # License, v. 2.0. If a copy of the MPL was not distributed with this
  # file, You can obtain one at http://mozilla.org/MPL/2.0/. #}

{% from "macros-protocol.html" import feature_card with context %}
{% from "macros.html" import fxa_email_form, google_play_button, fxa_create_account_button with context %}

{% extends "base-protocol.html" %}

{% block page_title %}{{ _('Get a Firefox Account – Keep your data private, safe and synced') }}{% endblock %}
{% block page_desc %}{{ _('Securely sync your passwords, bookmarks and tabs across all your devices. Get a Firefox Account now – One log-in – Power and privacy everywhere.') }}{% endblock %}

{% block page_css %}
 {{ css_bundle('firefox_accounts_2018') }}
{% endblock %}

{% block content %}

<section class="mzp-c-hero mzp-has-image mzp-t-firefox mzp-t-product-firefox">
  <div class="mzp-l-content">
    <div class="mzp-c-hero-body">
      <h1 class="mzp-c-hero-title">{{ _('One log-in. Power and privacy everywhere.') }}</h1>
      <div id="hero-cta" class="mzp-c-hero-cta">
        <div class="show-fxa-supported-signed-out">
          <a href="https://accounts.firefox.com/signup?service=sync&context=fx_desktop_v3&entrypoint=accounts-page&utm_source=accounts-page&utm_content=accounts-page-top-cta&utm_medium=referral&utm_campaign=fxa-benefits-page" class="mzp-c-button mzp-t-primary mzp-t-download" data-button-name="Create account" data-link-type="button" data-cta-position="primary cta" id="features-hero-account">
            {{ _('Create a Firefox Account') }}
          </a>
        </div>
        <div class="show-fxa-supported-signed-in">
          <button class="mzp-c-button mzp-t-download" type="button" id="fx-modal" data-button-name="download the firefox app" data-cta-position="primary cta">{{ _('Download the Firefox App') }}</button>
        </div>
        <div class="show-fxa-not-fx">
          {{ download_firefox(dom_id='features-hero-download', download_location='primary cta', button_color='mzp-c-button mzp-t-primary mzp-t-download') }}
        </div>
      </div>
    </div>
  </div>
  <div class="mzp-c-hero-image">
    {{ high_res_img('firefox/accounts/fxa-hero-img.png', {'alt': '', 'width': '1200', 'height': '770'}) }}
  </div>
</section>

<div class="mzp-l-content">
  <h2 id="subtitle">{{ _('Own your life on every device with a Firefox Account.') }}</h2>
</div>

<div class="mzp-l-content">
  {% call feature_card(
    title=_('Send tabs instantly to your devices'),
    image_url='firefox/accounts/fxa-send.png',
    include_highres_image=True,
    aspect_ratio='mzp-has-aspect-1-1',
    class='mzp-l-card-feature-right-half mzp-t-firefox'
  ) %}
  <p>{{ _('Send an open tab on one device to all your others with a single tap. Much easier than texting or emailing yourself those links.') }}</p>
  {% endcall %}

  {% call feature_card(
    title=_('Remember your passwords in Lockbox'),
    image_url='firefox/accounts/fxa-lockbox.png',
    include_highres_image=True,
    aspect_ratio='mzp-has-aspect-1-1',
    class='mzp-l-card-feature-left-half mzp-t-firefox lockbox-card',
    link_cta=_('Get the Lockbox App'),
    link_url='https://app.adjust.com/kq8zhhz',
    ga_title='Get the Lockbox App'
  ) %}
    <p>{{ _('No more getting locked out of apps and websites. Lockbox secures all the passwords you’ve saved in Firefox and gives you easy access across all your iOS devices.') }}</p>

    <ul class="mobile-content">
      <li class="ios">
        <a href="https://app.adjust.com/kq8zhhz" data-link-type="download" data-download-os="iOS">
          <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="{{ _('Download on the App Store') }}" width="152" height="45">
        </a>
      </li>
    </ul>
  {% endcall %}

  {% call feature_card(
    title=_('Sync your bookmarks everywhere'),
    image_url='firefox/accounts/fxa-sync.png',
    include_highres_image=True,
    aspect_ratio='mzp-has-aspect-1-1',
    class='mzp-l-card-feature-right-half mzp-t-firefox bookmarks-card'
  ) %}
    <p>{{ _('Bookmark a recipe at home. Check it at the market from your phone. Every bookmark you save is instantly added to all your synced devices.') }}</p>
  {% endcall %}

  {% call feature_card(
    title=_('Put quality content in your Pocket'),
    image_url='firefox/accounts/fxa-pocket.png',
    include_highres_image=True,
    aspect_ratio='mzp-has-aspect-1-1',
    class='mzp-l-card-feature-left-half mzp-t-firefox pocket-card',
    link_cta=_('Get the Pocket App'),
    link_url='https://getpocket.com',
    ga_title='Get the Pocket App'
  ) %}
    <p>{{ _('Discover the web’s best content, and absorb it anytime – even offline – on any device. Pocket’s listen feature will even read any article aloud to you. All from the Firefox toolbar.') }}</p>

    <ul class="mobile-content">
      <li class="android">
        {{ google_play_button(href='https://app.adjust.com/h5iycst') }}
      </li>
      <li class="ios">
        <a href="https://app.adjust.com/h5iycst" data-link-type="download" data-download-os="iOS">
          <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="{{ _('Download on the App Store') }}" width="152" height="45">
        </a>
      </li>
    </ul>
  {% endcall %}

  {% call feature_card(
    title=_('Pick up where you left off with Notes'),
    image_url='firefox/accounts/fxa-notes.png',
    include_highres_image=True,
    aspect_ratio='mzp-has-aspect-1-1',
    class='mzp-l-card-feature-right-half mzp-t-firefox notes-card',
    link_cta=_('Get the Notes App'),
    link_url='https://play.google.com/store/apps/details?id=org.mozilla.testpilot.notes',
    ga_title='Get the Notes App'
  ) %}
    <p>{{ _('Your ideas and inspiration are secure and encrypted with Notes – and when you’re signed into your Account, they sync from your desktop to your Android devices.') }}</p>

    <ul class="mobile-content">
      <li class="android">
        {{ google_play_button(href='https://play.google.com/store/apps/details?id=org.mozilla.testpilot.notes') }}
      </li>
    </ul>
  {% endcall %}

</div>

<aside class="fxa-benefits mzp-u-modal-content">
  <p class="mobile-title mobile-pocket">{{ _('Scan the QR Code to download the Pocket App on your mobile device.') }}</p>
  <p class="mobile-title mobile-lockbox">
  {%- if l10n_has_tag('accounts_2018_qrcodes') -%}
    {{ _('Scan the QR Code to download the Lockbox App on your Apple device.') }}
  {%- else -%}
    {{ _('Scan the QR Code to download the Lockbox App on your mobile device.') }}
  {%- endif -%}
  </p>
  <p class="mobile-title mobile-notes">
  {%- if l10n_has_tag('accounts_2018_qrcodes') -%}
    {{ _('Scan the QR Code to download the Notes App on your Android device.') }}
  {%- else -%}
    {{ _('Scan the QR Code to download the Notes App on your mobile device.') }}
  {%- endif -%}
  </p>
  <p id="fx-qr-title" class="mobile-title mobile-fx">{{ _('Scan the QR Code to download the Firefox App on your mobile device.') }}</p>
  <div class="mzp-l-content">
    <div id="qr-code"></div>
  </div>

  <section>
    <div id="fx-app-buttons" class="show-fxa-supported-signed-in">
        <ul class="mobile-download-buttons">
          <li>
            {{ google_play_button(id=android_id, extra_data_attributes={'download-location': button_location}) }}
          </li>
          <li>
            <a href="{{ firefox_ios_url(app_store_campaign) }}" data-link-type="download" data-download-os="iOS" data-download-location="primary cta" id="fxa-ff-ios-modal">
              <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="{{ _('Download on the App Store') }}" width="152" height="45">
            </a>
          </li>
        </ul>
      </div>
  </section>

  <section>
    <ul class="mobile-download-buttons mobile-pocket">
      <li class="android">
        {{ google_play_button(href='https://app.adjust.com/h5iycst') }}
      </li>
      <li class="ios">
        <a href="https://app.adjust.com/h5iycst" data-link-type="download" data-download-os="iOS">
          <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="{{ _('Download on the App Store') }}" width="152" height="45">
        </a>
      </li>
    </ul>
  </section>

  <section>
    <ul class="mobile-download-buttons mobile-lockbox">
      <li class="ios">
        <a href="https://app.adjust.com/kq8zhhz" data-link-type="download" data-download-os="iOS">
          <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="{{ _('Download on the App Store') }}" width="152" height="45">
        </a>
      </li>
    </ul>
  </section>

  <section>
    <ul class="mobile-download-buttons mobile-notes">
      <li class="android">
        {{ google_play_button(href='https://play.google.com/store/apps/details?id=org.mozilla.testpilot.notes') }}
      </li>
    </ul>
  </section>
</aside>

<section id="bottom-banner">
  <div class="mzp-l-content">
    <header class="banner-title">
      <h2>{{ _('You deserve peace of mind everywhere.') }}</h2>
    </header>

    <div class="banner-cta">

      <div class="fxa-cta show-fxa-supported-signed-in show-fxa-supported-signed-out">
        <div class="show-fxa-supported-signed-in">
          <ul class="mobile-download-buttons" id="bottom-banner-mobile">
            <li>
              {{ google_play_button(id=android_id, extra_data_attributes={'download-location': 'secondary cta'}) }}
            </li>
            <li>
              <a href="{{ firefox_ios_url(app_store_campaign) }}" data-link-type="download" data-download-os="iOS" data-download-location="secondary cta" id="fxa-ff-ios">
                <img src="{{ l10n_img('firefox/ios/btn-app-store.svg') }}" alt="{{ _('Download on the App Store') }}" width="152" height="45">
              </a>
            </li>
          </ul>
        </div>

        <div class="show-fxa-supported-signed-out">
          {{ fxa_email_form(entrypoint='accounts-page', utm_source='accounts-page', utm_params={'campaign': 'fxa-embedded-form', 'content': 'accounts-page', 'medium': 'referral'}, button_class='mzp-c-button mzp-t-primary mzp-t-download', button_text=_('Create an Account')) }}

          <p class="fxa-signin">{{ _('Already have an account?') }} <a href="https://accounts.firefox.com/?action=email&service=sync&context=fx_desktop_v3&entrypoint=accounts-page&utm_content=%2Ffirefox%2Faccounts%2F&utm_campaign=fxa-embedded-form&utm_source=accounts-page">{{ _('Sign In') }}</a></p>
        </div>
      </div>

      <div class="mobile-buttons">
        <p class="show-fxa-ios">
          <a class="mzp-c-button mzp-t-secondary mzp-t-dark" rel="external" href="https://support.mozilla.org/kb/sync-firefox-bookmarks-and-browsing-history-iOS">{{ _('Set up Sync for iOS') }}</a>
        </p>

        {# L10n: Line break below for visual formatting only. #}
        <p class="show-fxa-android">
          <a class="mzp-c-button mzp-t-secondary mzp-t-dark" rel="external" href="https://support.mozilla.org/kb/sync-bookmarks-tabs-history-and-passwords-android">{{ _('Set up Sync on your <br>Android device') }}</a>
        </p>
      </div>

      <div class="show-fxa-not-fx show-fxa-unsupported show-fxa-default">
        <div class="download-firefox">
          {{ download_firefox(dom_id='accounts-bottom', download_location='secondary cta', button_color='mzp-c-button mzp-t-primary mzp-t-download') }}
        </div>
      </div>
    </div>

  </div>
</section>
{% endblock %}

{% block js %}
  {{ js_bundle('firefox_accounts_2018') }}
{% endblock %}
