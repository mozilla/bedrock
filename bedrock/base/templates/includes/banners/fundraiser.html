{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% extends 'includes/banners/basic.html' %}

{% block banner_id %}fundraising-banner{% endblock %}

{% block banner_class %}c-banner-fundraising{% endblock %}

{% if variation == '3' %}
  {% set campaign = '23-EOYB-B4' %}
  {% set title = ftl('banner-fundraising-title-3') %}
  {% set tagline = ftl('banner-fundraising-tagline-3') %}
  {% set image = 'hand-heart' %}
{% elif variation == '2' %}
  {% set campaign = '23-EOYB-B3' %}
  {% set title = ftl('banner-fundraising-title-2') %}
  {% set tagline = ftl('banner-fundraising-tagline-2') %}
  {% set image = 'ctrl-alt-del' %}
{% else %}
  {% set campaign = '23-EOYB-B2' %}
  {% set title = ftl('banner-fundraising-title-1') %}
  {% set tagline = ftl('banner-fundraising-tagline-1') %}
  {% set image = 'hand-heart' %}
{% endif %}

{% set donate_url = "https://foundation.mozilla.org/?form=eoy-banner&utm_medium=web&utm_source=eoy-banner&utm_campaign=" + campaign + "&utm_content=button_donate&utm_term=" + lang_short() %}

{% block banner_content %}
  {% call split(
    block_class='mzp-l-split-center-on-sm-md mzp-t-split-nospace',
    image=resp_img(
      url='img/banners/fundraising/' + image + '-800.png',
      srcset={
        'img/banners/fundraising/' + image + '-600.png': '600w',
        'img/banners/fundraising/' + image + '-800.png': '800w',
        'img/banners/fundraising/' + image + '-1000.png': '1000w',
        'img/banners/fundraising/' + image + '-1200.png': '1200w',
        'img/banners/fundraising/' + image + '-1400.png': '1400w',
      },
      sizes={
        '(min-width: 1600px)': '680px',
        '(min-width: 768px)': '50vw',
        'default': '100vw'
      },
      optional_attributes={
        'height': '383',
        'width': '680',
        'class': 'c-banner-media mzp-c-split-media-asset'
      }
    ),
    media_after=False
  ) %}

    <h2 class="c-banner-title">{{ title }}</h2>
    <p class="c-banner-tagline">{{ tagline }}</p>

    <a class="c-banner-button mzp-c-button mzp-t-product mzp-t-xl" href="{{ donate_url }}" data-cta-type="button" data-cta-text="Donate">{{ ftl('banner-fundraising-donate') }}</a>
  {% endcall %}
{% endblock %}
