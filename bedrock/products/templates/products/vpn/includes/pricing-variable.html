{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% from "products/vpn/includes/macros.html" import vpn_content_block with context %}

<div class="vpn-variable-pricing-block">
  <h2 class="vpn-pricing-variable-heading">{{ ftl('vpn-shared-pricing-variable-heading-v2', fallback='vpn-shared-pricing-variable-heading') }}</h2>

  <h3 class="vpn-pricing-variable-sub-heading">{{ ftl('vpn-shared-pricing-variable-sub-heading') }}</h3>

  <ul class="mzp-u-list-styled vpn-feature-list l-columns-two">
    <li class="vpn-feature-list-item">{{ ftl('vpn-shared-features-devices', devices=connect_devices) }}</li>
    <li class="vpn-feature-list-item">{{ ftl('vpn-shared-features-servers', servers=connect_servers, countries=connect_countries) }}</li>
    <li class="vpn-feature-list-item">{{ ftl('vpn-shared-features-encrypt') }}</li>
    <li class="vpn-feature-list-item">{{ ftl('vpn-shared-features-bandwidth') }}</li>
    <li class="vpn-feature-list-item">{{ ftl('vpn-shared-features-activity') }}</li>
    <li class="vpn-feature-list-item">{{ ftl('vpn-shared-features-guarantee', fallback='vpn-shared-money-back-guarantee') }}</li>
  </ul>

  <div class="vpn-pricing-variable-plans">
    {% call vpn_content_block(
      class_name='vpn-pricing-12-months t-highlight'
    ) %}
      <p class="vpn-pricing-variable-plan-tag">{{ ftl('vpn-shared-pricing-recommended-offer') }}</p>
      <h2 class="vpn-content-block-heading">{{ ftl('vpn-shared-pricing-plan-12-month') }}</h2>
      <h3 class="vpn-content-block-sub-heading">{{ vpn_monthly_price(plan='12-month', lang=LANG) }}</h3>

      {{ vpn_subscribe_link(
        entrypoint=_utm_source,
        link_text=ftl('vpn-shared-pricing-get-12-month-v2', fallback='vpn-shared-pricing-get-12-month'),
        plan='12-month',
        class_name='mzp-c-button mzp-t-xl ',
        lang=LANG,
        optional_parameters={
          'utm_campaign': _utm_campaign
        },
        optional_attributes={
          'data-cta-type': 'fxa-vpn',
          'data-cta-text': 'Get Mozilla VPN 12-month',
          'data-cta-position': 'pricing'
        }
      ) }}

      <p class="refund-policy"><a href="#faq-refunds">{{ ftl('vpn-shared-refund-policy') }}</a></p>
      <p class="vpn-pricing-variable-saving">{{ vpn_saving(plan='12-month', lang=LANG) }}</p>
      <p class="vpn-pricing-variable-total">{{ vpn_total_price(plan='12-month', lang=LANG) }}</p>
    {% endcall %}

    {% call vpn_content_block(
      class_name='vpn-pricing-6-months'
    ) %}
      <h2 class="vpn-content-block-heading">{{ ftl('vpn-shared-pricing-plan-6-month') }}</h2>
      <h3 class="vpn-content-block-sub-heading">{{ vpn_monthly_price(plan='6-month', lang=LANG) }}</h3>

      {{ vpn_subscribe_link(
        entrypoint=_utm_source,
        link_text=ftl('vpn-shared-pricing-get-6-month-v2', fallback='vpn-shared-pricing-get-6-month'),
        plan='6-month',
        class_name='mzp-c-button mzp-t-secondary mzp-t-xl ',
        lang=LANG,
        optional_parameters={
          'utm_campaign': _utm_campaign
        },
        optional_attributes={
          'data-cta-type': 'fxa-vpn',
          'data-cta-text': 'Get Mozilla VPN 6-month',
          'data-cta-position': 'pricing'
        }
      ) }}

      <p class="refund-policy"><a href="#faq-refunds">{{ ftl('vpn-shared-refund-policy') }}</a></p>
      <p class="vpn-pricing-variable-saving">{{ vpn_saving(plan='6-month', lang=LANG) }}</p>
      <p class="vpn-pricing-variable-total">{{ vpn_total_price(plan='6-month', lang=LANG) }}</p>
    {% endcall %}

   {% call vpn_content_block(
     class_name='vpn-pricing-monthly'
     ) %}
     <h2 class="vpn-content-block-heading">{{ ftl('vpn-shared-pricing-plan-monthly') }}</h2>
     <h3 class="vpn-content-block-sub-heading">{{ vpn_monthly_price(plan='monthly', lang=LANG) }}</h3>

     {{ vpn_subscribe_link(
       entrypoint=_utm_source,
       link_text=ftl('vpn-shared-pricing-get-monthly'),
       plan='monthly',
       class_name='mzp-c-button mzp-t-secondary mzp-t-xl ',
       lang=LANG,
       optional_parameters={
         'utm_campaign': _utm_campaign
       },
       optional_attributes={
         'data-cta-type': 'fxa-vpn',
         'data-cta-text': 'Get Mozilla VPN monthly',
         'data-cta-position': 'pricing'
       }
     ) }}

      <p class="refund-policy"><a href="#faq-refunds">{{ ftl('vpn-shared-refund-policy') }}</a></p>
    {% endcall %}
  </div>
</div>

