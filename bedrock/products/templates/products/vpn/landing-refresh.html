{#
  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at https://mozilla.org/MPL/2.0/.
 #}

{% from "macros-protocol.html" import picto, split with context %}
{% from "products/vpn/includes/macros.html" import vpn_nav_cta_refresh, vpn_conditional_cta_refresh with context %}

{% extends "products/vpn/base.html" %}

{% block page_title_full %}Get Mozilla VPN  — Mozilla (US){% endblock %}
{% block page_title_suffix %}{% endblock %}

{% block page_desc %}TODO{% endblock %}

{% block body_id %}mozilla-vpn-landing{% endblock %}

{% set _utm_source = 'www.mozilla.org-vpn-product-page' %}
{% set _utm_campaign = 'vpn-product-page' %}
{% set _params = '?utm_source=' ~ _utm_source ~ '&utm_medium=referral&utm_campaign=' ~ _utm_campaign %}

{% block page_css %}
  {{ css_bundle('protocol-split') }}
  {{ css_bundle('protocol-picto')}}
  {{ css_bundle('mozilla-vpn-common-refresh') }}
  {{ css_bundle('mozilla-vpn-landing-refresh') }}
{% endblock %}

{% block site_header %}
  {% with custom_nav_cta=vpn_nav_cta_refresh() %}
    {% include 'includes/protocol/navigation/navigation.html' %}
  {% endwith %}
{% endblock %}

{% block sub_navigation %}
  {% include 'products/vpn/includes/subnav-refresh.html' %}
{% endblock %}

{% block content %}
<main>
  {% call split(
    block_class='c-hero mzp-l-split-center-on-sm-md mzp-t-content-xl',
    image=resp_img(
      url='img/products/vpn/landing-refresh/vpn-ui-400.png',
      srcset={
        'img/products/vpn/landing-refresh/vpn-ui-400.png': '400w',
        'img/products/vpn/landing-refresh/vpn-ui-600.png': '600w',
        'img/products/vpn/landing-refresh/vpn-ui-800.png': '800w',
      },
      sizes={
        '(min-width: 1312px)': '400px',
        '(min-width: 768px)': '50vw',
        'default': '100vw'
      },
      optional_attributes={
        'height': '396',
        'width': '400',
        'class': 'mzp-c-split-media-asset',
      }
    ),
    media_class='mzp-l-split-h-center',
    media_after=True
  ) %}
    <h1>Powerful privacy for peace of mind</h1>

    {% if vpn_available %}
      <p class="c-main-cta">
        <a class="mzp-c-button mzp-t-xl" href="{{ url('products.vpn.pricing') }}" data-cta-type="button" data-cta-text="View VPN pricing" data-cta-position="primary">
          {{ vpn_saving(country_code=country_code, lang=LANG, bundle_relay=True, ftl_string='vpn-shared-save-percent-on') }}
        </a>
        <small>
          *with an annual subscription
        </small>
      </p>

    {% else %}
      <a class="mzp-c-button mzp-t-xl" href="{{ url('products.vpn.invite') }}" data-cta-type="button" data-cta-text="Join the VPN Waitlist" data-cta-position="primary">
        {{ ftl('vpn-shared-waitlist-link') }}
      </a>
    {% endif %}
  {% endcall %}

  <aside class="c-aside">
    <p>Powered by Mozilla. Fighting for your right to privacy since 1998.</p>
  </aside>

  {% call split(
    block_class='t-content-body mzp-l-split-reversed mzp-l-split-center-on-sm-md mzp-t-content-xl',
    image=resp_img(
      'img/products/vpn/landing-refresh/padlock.svg',
      optional_attributes={
        'class': 'mzp-c-split-media-asset',
        'loading': 'lazy'
      }
    ),
    media_class='mzp-l-split-h-center',
    media_after=True
  ) %}
    <h2>What’s a VPN?</h2>

    <p>
      A virtual private network protects your connection to the internet,
      keeping your location and what you do online safer across your devices.
    </p>

    <p>
      <a href="{{ url('products.vpn.features') }}">See all the ways Mozilla VPN protects you.</a>
    </p>
  {% endcall %}

  <section class="c-how-vpn-helps mzp-l-content mzp-t-content-xl">
    <h2 class="c-section-title">How a VPN helps you</h2>

    <img class="c-section-main-img" loading="lazy" src="{{ static('img/products/vpn/landing-refresh/padlock.svg') }}" width="452" height="452" alt="">

    <ul class="mzp-l-columns mzp-t-columns-three">
      <li>
        <h3 class="c-reason-title">Keep data safe on public wifi</h3>
        <p>
          Block hackers from taking advantage of unsecured wifi networks
          (like at airports and cafes), so you can log into your bank or
          doctor’s portal with peace of mind.
        </p>
      </li>
      <li>
        <h3 class="c-reason-title">Block advertisers from targeting you</h3>
        <p>
          Mozilla VPN’s settings help you hide your activity from internet
          providers, trackers and malware, so you can shop online without
          being followed.
        </p>
      </li>
      <li>
        <h3 class="c-reason-title">Access content from other countries</h3>
        <p>
          While traveling abroad, you can connect to your home country to
          access sites that may not be available in other countries.
        </p>
      </li>
    </ul>
  </section>

  {{ vpn_conditional_cta_refresh('secondary') }}

  <section class="c-features t-content-body mzp-l-content mzp-t-content-xl">
    <h2 class="c-section-title t-large">Features</h2>

    <ul class="mzp-l-columns mzp-t-columns-two">
      <li class="c-feature-block">
        <img loading="lazy" src="{{ static('img/products/vpn/landing-refresh/icons/shield.svg') }}" width="60" alt="">
        <div class="c-feature-block-detail">
          <h3 class="c-feature-title">
            Connect up to 5 devices
          </h3>
          <p>
            Supported on Windows, macOS, Android, iOS and Linux
            operating systems.
          </p>
        </div>
      </li>
      <li class="c-feature-block">
        <img loading="lazy" src="{{ static('img/products/vpn/landing-refresh/icons/globe.svg') }}" width="60" alt="">
        <div class="c-feature-block-detail">
          <h3 class="c-feature-title">
            Over {{ connect_servers}} servers in {{ connect_countries }}+ countries
          </h3>
          <p>
            <a href="https://mullvad.net/servers/">
              See our full list of servers.
            </a>
          </p>
        </div>
      </li>
      <li class="c-feature-block">
        <img loading="lazy" src="{{ static('img/products/vpn/landing-refresh/icons/stop.svg') }}" width="60" alt="">
        <div class="c-feature-block-detail">
          <h3 class="c-feature-title">
            We never log, track, or share your network data
          </h3>
          <p>
            We partner with Mullvad VPN to offer industry-leading
            privacy practices. <a href="{{ url('privacy.notices.subscription-services') }}">
            Here’s our privacy policy.</a>
          </p>
        </div>
      </li>
      <li class="c-feature-block">
        <img loading="lazy" src="{{ static('img/products/vpn/landing-refresh/icons/speed.svg') }}" width="60" alt="">
        <div class="c-feature-block-detail">
          <h3 class="c-feature-title">
            Fast network speeds even while gaming
          </h3>
          <p>
            We’re built using Wireguard™, one of the most performant VPN protocols.
            <a href="https://mullvad.net/help/why-wireguard/">Learn more about Wireguard.</a>
          </p>
        </div>
      </li>
    </ul>
  </section>

  {{ vpn_conditional_cta_refresh('tertiary') }}

  {% include 'products/vpn/includes/press.html' %}

  <section class="c-learn-more mzp-l-content mzp-t-content-xl">
    <h2 class="c-section-title t-large">Learn more from our experts</h2>

    <ul class="mzp-l-columns mzp-t-columns-three">
      {% call picto(
        image=resp_img(
          url='img/products/vpn/landing-refresh/icons/home.svg',
          optional_attributes={
            'class': 'mzp-c-picto-image',
            'width': '104',
            'loading': 'lazy'
          }
        ),
        body=True,
        base_el='li'
      ) %}
        <h3 class="c-learn-more-heading">
          <a href="{{ url('products.vpn.resource-center.article', 'do-you-need-a-vpn-at-home-here-are-5-reasons-you-might') }}">
            Do you need a VPN at home? Here’s 5 reasons you might.
          </a>
        </h3>
      {% endcall %}

      {% call picto(
        image=resp_img(
          url='img/products/vpn/landing-refresh/icons/ip.svg',
          optional_attributes={
            'class': 'mzp-c-picto-image',
            'width': '104',
            'loading': 'lazy'
          }
        ),
        body=True,
        base_el='li'
      ) %}
        <h3 class="c-learn-more-heading">
          <a href="{{ url('products.vpn.resource-center.article', 'what-is-an-ip-address') }}">
            What is an IP address?
          </a>
        </h3>
      {% endcall %}

      {% call picto(
        image=resp_img(
          url='img/products/vpn/landing-refresh/icons/location.svg',
          optional_attributes={
            'class': 'mzp-c-picto-image',
            'width': '104',
            'loading': 'lazy'
          }
        ),
        body=True,
        base_el='li'
      ) %}
        <h3 class="c-learn-more-heading">
          <a href="{{ url('products.vpn.resource-center.article', 'how-your-location-is-tracked-and-how-you-can-limit-sharing-it') }}">
            How your location is tracked and how you can limit sharing it
          </a>
        </h3>
      {% endcall %}
    </ul>
  </section>

  {% call split(
    block_class='mzp-l-split-center-on-sm-md mzp-t-content-xl',
    image=resp_img(
      'img/products/vpn/landing-refresh/heart.svg',
      optional_attributes={
        'class': 'mzp-c-split-media-asset',
        'loading': 'lazy'
      }
    ),
    media_class='mzp-l-split-h-center',
    media_after=True
  ) %}
    <h2>From a brand you can trust</h2>

    <p>
      Mozilla is a non-profit-backed internet company that’s been fighting
      for a healthy web since 1998.
    </p>
  {% endcall %}

  {{ vpn_conditional_cta_refresh('footer') }}
</main>
{% endblock %}
