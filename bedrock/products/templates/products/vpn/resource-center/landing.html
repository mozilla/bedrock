{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% from 'macros-protocol.html' import call_out, split %}

{% extends "products/vpn/base.html" %}

{% block page_css %}
  {{ css_bundle('protocol-split') }}
  {{ css_bundle('protocol-card') }}
  {{ css_bundle('protocol-call-out') }}
  {{ css_bundle('protocol-article') }}
  {{ css_bundle('vpn-resource-center') }}
{% endblock page_css %}

{% block page_title%}{{ ftl('vpn-resource-center-title') }}{% endblock page_title %}

{% block content %}
<div class="mzp-l-content">
  {{ call_out (
    title=ftl('vpn-resource-center-whats-the-deal'),
    desc=ftl('vpn-resource-center-discover-how-they'),
    class='resource-center-page-header resource-center-hero'
  )}}
    {# Category component is currently of the scope of this issue, but still stubbed out for use later #}

    {# {% if category_list|length > 1 %}
    {# <div class="mzp-c-category-list"> #}
      {# <h2 class="mzp-c-category-list-title"> #}
        {# <a href="{{ url('products.vpn.resource-center.landing') }}">{{ ftl('vpn-resource-center-view-all') }}</a>
      </h2>
      <ul class="mzp-c-category-list-list">
        {% for category in category_list  %}
        <li class="mzp-c-category-list-item">
          {# TODO? if selected_category == category.name, add selected state #}
          {# <a href="{{category.url}}">{{category.name}}</a> #}
        {# </li> #}
        {# {% endfor %} #}
      {# </ul> #}
    {# </div> #}
    {# {% endif %} #}

  <div class="mzp-l-card-third">
    {% for article in first_article_group %}
      {% include "products/vpn/resource-center/includes/vpn-article-card.html" %}
    {% endfor %}
  </div>
  {% call split (
    image_url="img/products/vpn/resource-center/resource_center_split_1.svg",
    block_class='resource-center-split mzp-t-content-lg mzp-l-split-center-on-sm-md',
    media_class='resource-center-split-media',
  ) %}
    <h1 class="resource-center-wordmark mzp-c-wordmark mzp-t-wordmark-sm mzp-t-product-vpn">{{ ftl('vpn-resource-center-mozilla-vpn') }}</h1>
    <h2 class="mzp-c-call-out-title">{{ ftl('vpn-resource-center-start-protecting') }}</h2>
    {{ vpn_product_referral_link(
        referral_id='vpn-resource-center',
        page_anchor='#pricing',
        link_text=vpn_saving(plan='12-month', country_code=country_code, lang=LANG, ftl_string='vpn-shared-save-percent-on'),
        class_name='mzp-c-button mzp-t-product',
        optional_attributes= {
          'data-cta-text' : 'Get Mozilla VPN',
          'data-cta-type' : 'button',
        }
      )}}
    <p class="resource-center-cta-desc"><em>{{ ftl('vpn-shared-when-you-subscribe') }}</em></p>
  {% endcall %}

  {% if second_article_group %}
   <div class="mzp-l-card-third">
      {% for article in second_article_group %}
        {% include "products/vpn/resource-center/includes/vpn-article-card.html" %}
      {% endfor %}
    </div>
    {# Only show the second split if there was something after the first split #}
    {% call split (
      image_url="img/products/vpn/resource-center/resource_center_split_2.jpg",
      block_class='mzp-t-content-lg',
    ) %}
      <h2 class="resource-center-cta-title">{{ ftl('vpn-resource-center-obsessed-with') }}</h2>
      {{ vpn_product_referral_link(
          referral_id='vpn-resource-center',
          page_anchor='#pricing',
          link_text=ftl('vpn-resource-center-get-mozilla-vpn'),
          class_name='mzp-c-button mzp-t-product',
          optional_attributes= {
            'data-cta-text' : 'Get Mozilla VPN',
            'data-cta-type' : 'button',
          }
        ) }}
    {% endcall %}
  {% endif %}
</div>
{% endblock content %}
