{#
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at https://mozilla.org/MPL/2.0/.
#}

{% from 'macros-protocol.html' import call_out, split %}

{% extends "products/vpn/base.html" %}

{% block page_css %}
  {{ css_bundle('vpn-resource-center')}}
{% endblock page_css %}

{% block page_title%}Knowledge Center{% endblock page_title%}

{% block content %}
  {{ call_out (
    title='What’s the deal with Virtual Private Networks?',
    desc='Discover how they work, why they’re important and what using a VPN can do for you.',
    class='resource-center-page-header resource-center-hero'
  )}}
    {% if category_list %}
    {# Category component is currently of the scope of this project, but still stubbed out #}
    <div class="mzp-c-category-list">
      <h2 class="mzp-c-category-list-title">
        <a href="{{ url('products.vpn.resource-center.landing') }}">View All &#62</a>
      </h2>
      <ul class="mzp-c-category-list-list">
        {% for category in category_list  %}
        <li class="mzp-c-category-list-item">
          <a href="{{category.url}}">{{category.name}}</a>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    <div class="mzp-l-content mzp-l-card-third">
      {% for article in first_article_group %}
        {% include "products/vpn/resource-center/includes/vpn_article_card.html" %}
      {% endfor %}
    </div>
    {% call split (
      image_url="img/products/vpn/resource-center/resource_center_split_1.svg",
      block_class='resource-center-split mzp-t-split-nospace mzp-t-content-lg mzp-l-split-center-on-sm-md',
      media_class='resource-center-split-media',
    ) %}
      <h1 class="resource-center-wordmark">Mozilla VPN</h1>
      <h2 class="mzp-c-call-out-title">Start protecting your identity today</h2>
      <a class='mzp-c-button mzp-t-product resource-center-cta'>{{ vpn_saving(plan='12-month', country_code=country_code, lang=LANG) }} on Mozilla VPN*</a>
      <p class="resource-center-cta-desc"><em>*when you subscribe to a 12-month plan</em></p>
    {% endcall %}

    <div class="mzp-l-content mzp-l-card-third">
      {% for article in second_article_group %}
        {% include "products/vpn/resource-center/includes/vpn_article_card.html" %}
      {% endfor %}
    </div>

  {% if second_article_group %}
    {# Only show the second split if there was something after the first split #}
    {% call split (
      image_url="img/products/vpn/resource-center/resource_center_split_2.jpg",
      block_class='mzp-t-content-lg',
    ) %}
      <h2 class="resource-center-cta-title">Obsessed with your privacy since 1998</h2>
      <a class='mzp-c-button mzp-t-product'>Get Mozilla VPN</a>
    {% endcall %}
  {% endif %}

{% endblock %}

{% block js %}
    {{ js_bundle("vpn-resource-center")}}
{% endblock js %}

