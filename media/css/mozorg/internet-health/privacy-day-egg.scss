// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

@import '../../pebbles/includes/lib';


#kzp {
    @include transition(opacity 150ms ease-in);
    bottom: 0;
    height: 100%;
    left: 0;
    opacity: .5;
    overflow: hidden;
    position: fixed;
    right: 0;
    top: 0;
    width: 100%;
    z-index: 998;

    &.gone {
        display: none;
    }

    &.visible {
        opacity: 1;
    }
}

.kz {
    background: url('~media/img/mozorg/internet-health/privacy/kz/03-blue.gif') center center no-repeat;
    @include background-size(cover);
    height: 119px;
    position: absolute;
    top: -500px;
    width: 248px;
}

// The Golden Kazoo
.au {
    background-image: url('~media/img/mozorg/internet-health/privacy/kz/05-gold.gif');
    height: 130px;
    width: 221px;

    a {
        @include image-replaced;
        display: block;
        height: 100%;
        width: 100%;
    }

    @media #{$mq-tablet} and #{$mq-tall} {
        height: 185px;
        width: 315px;
    }
}

// Hide half the kazoos on small screens
#kz3,
#kz6,
#kz8,
#kz9,
#kz11,
#kz14,
#kz15,
#kz16 {
    display: none;
}

// Big screens get bigger kazoos, in more colors, and more of them.
// It's a kavalcade of kazoos!
@media #{$mq-tablet} {
    .gr {
        background-image: url('~media/img/mozorg/internet-health/privacy/kz/01-green.gif');
        height: 275px;
        width: 155px;
    }

    .rd {
        background-image: url('~media/img/mozorg/internet-health/privacy/kz/02-red.gif');
        height: 300px;
        width: 240px;
    }

    .bl {
        height: 170px;
        width: 355px;
    }

    .pr {
        background-image: url('~media/img/mozorg/internet-health/privacy/kz/04-purple.gif');
        height: 355px;
        width: 170px;
    }

    #kz3,
    #kz6,
    #kz8,
    #kz9,
    #kz11,
    #kz14,
    #kz15,
    #kz16 {
        display: block;
    }
}

// Trigger the animation on a body class
body.easter {
    .kz {
        @include animation(8s linear infinite kz-fall, 8s linear infinite kz-spin);
    }

    // Position the kazoos, vary the speed and timing to create randomness
    // Some kazoos spin backwards
    #kz1 {
        left: 2%;
        -webkit-animation-delay: .25s;
                animation-delay: .25s;
        -webkit-animation-duration: 8.02s, 8s;
                animation-duration: 8.02s, 8s;
    }

    #kz2 {
        left: 52%;
        -webkit-animation-name: kz-fall, kz-backspin;
                animation-name: kz-fall, kz-backspin;
        -webkit-animation-duration: 8.05s, 8s;
                animation-duration: 8.05s, 8s;
    }

    #kz3 {
        left: 25%;
        -webkit-animation-delay: .5s;
                animation-delay: .5s;
        -webkit-animation-duration: 7.95s, 8s;
                animation-duration: 7.95s, 8s;
    }

    #kz4 {
        left: 16%;
        -webkit-animation-name: kz-fall, kz-backspin;
                animation-name: kz-fall, kz-backspin;
        -webkit-animation-delay: 5.75s;
                animation-delay: 5.75s;
        -webkit-animation-duration: 7.8s, 8.05s;
                animation-duration: 7.8s, 8.05s;
    }

    #kz5 {
        left: 44%;
        -webkit-animation-delay: 4.55s;
            animation-delay: 4.55s;
    }

    #kz6 {
        left: 86%;
        -webkit-animation-delay: 9.75s;
                animation-delay: 9.75s;
        -webkit-animation-duration: 8.15s, 8s;
                animation-duration: 8.15s, 8s;
    }

    #kz7 {
        left: 19%;
        -webkit-animation-delay: 3.5s;
                animation-delay: 3.5s;
        -webkit-animation-duration: 8.4s, 8s;
                animation-duration: 8.4s, 8s;
    }

    #kz8 {
        left: 66%;
        -webkit-animation-delay: 2.1s;
                animation-delay: 2.1s;
        -webkit-animation-duration: 7.95s, 8s;
                animation-duration: 7.95s, 8s;
    }

    #kz9 {
        left: 88%;
        -webkit-animation-delay: 6.25s;
                animation-delay: 6.25s;
        -webkit-animation-duration: 8s, 8.1s;
                animation-duration: 8s, 8.1s;
    }

    #kz10 {
        left: 11%;
        -webkit-animation-name: kz-fall, kz-backspin;
                animation-name: kz-fall, kz-backspin;
        -webkit-animation-delay: 1.85s;
                animation-delay: 1.85s;
    }

    #kz11 {
        left: 62%;
        -webkit-animation-name: kz-fall, kz-backspin;
                animation-name: kz-fall, kz-backspin;
        -webkit-animation-delay: 5.25s;
                animation-delay: 5.25s;
        -webkit-animation-duration: 7.95s, 8s;
                animation-duration: 7.95s, 8s;
    }

    #kz12 {
        left: 4%;
        -webkit-animation-delay: 7.15s;
                animation-delay: 7.15s;
    }

    // Golden Kazoo appears every 90 seconds
    #kz13 {
        left: 44%;
        -webkit-animation-name: kz-delayfall, kz-spin;
                animation-name: kz-delayfall, kz-spin;
        -webkit-animation-delay: 90s;
                animation-delay: 90s;
        -webkit-animation-duration: 90s, 8s;
                animation-duration: 90s, 8s;
    }

    #kz14 {
        left: 67%;
        -webkit-animation-delay: 11s;
                animation-delay: 11s;
        -webkit-animation-duration: 8.1s, 7.9s;
                animation-duration: 8.1s, 7.9s;
    }

    #kz15 {
        left: 33%;
        -webkit-animation-name: kz-fall, kz-backspin;
                animation-name: kz-fall, kz-backspin;
        -webkit-animation-delay: 3.25s;
                animation-delay: 3.25s;
        -webkit-animation-duration: 7.95s, 8s;
                animation-duration: 7.95s, 8s;
    }

    #kz16 {
        left: 26%;
        -webkit-animation-name: kz-fall, kz-backspin;
                animation-name: kz-fall, kz-backspin;
        -webkit-animation-delay: 9.5s;
                animation-delay: 9.5s;
        -webkit-animation-duration: 8.2s, 8.25s;
                animation-duration: 8.2s, 8.25s;
    }
}

@-webkit-keyframes kz-fall {
    0%   { top: -500px; }
    50%  { top: 120%; }
    100% { top: 120%; }
}

@keyframes kz-fall {
    0%   { top: -500px; }
    50%  { top: 120%; }
    100% { top: 120%; }
}

@-webkit-keyframes kz-delayfall {
    0%   { top: -500px; }
    5%   { top: 120%; }
    100% { top: 120%; }
}

@keyframes kz-delayfall {
    0%   { top: -500px; }
    5%   { top: 120%; }
    100% { top: 120%; }
}

@-webkit-keyframes kz-spin {
    0%   { -webkit-transform: rotate(-360deg); }
    100% { -webkit-transform: rotate(360deg); }
}

@keyframes kz-spin {
    0%   { transform: rotate(-360deg); }
    100% { transform: rotate(360deg); }
}

@-webkit-keyframes kz-backspin {
    0%   { -webkit-transform: rotate(360deg); }
    100% { -webkit-transform: rotate(-360deg); }
}

@keyframes kz-backspin {
    0%   { transform: rotate(360deg); }
    100% { transform: rotate(-360deg); }
}

// The toaster flies every ten minutes. Cruel.
#toast1 {
    @include animation(600s linear 600s infinite toaster-flight);
    background: url('~media/img/mozorg/internet-health/privacy/kz/toast.gif') center center no-repeat;
    height: 100px;
    left: 110%;
    position: absolute;
    top: 120px;
    width: 100px;
}

@-webkit-keyframes toaster-flight {
    0% {
        top: 20%;
        left: 110%;
    }

    2% {
        top: 60%;
        left: -200px;
    }

    100% {
        top: 60%;
        left: -200px;
    }
}

@keyframes toaster-flight {
    0% {
        top: 20%;
        left: 110%;
    }

    2% {
        top: 60%;
        left: -200px;
    }

    100% {
        top: 60%;
        left: -200px;
    }
}
