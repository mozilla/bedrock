// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

// Newer browsers hang these styles from a '.wide' class applied by JS (else
// we assume no JS and it gets plain content without interaction).
// IE8 does support the JS so it can get the interaction, but doesn't support
// media queries so it's locked in permanent wideMode. We'll hang these from
// the '.js' class instead, which is still added by JS.

// Redeclaring all these rules is repetative and hacky and should be cleaned
// up later (or drop IE8). To future me: You should be ashamed of yourself.
// Fix this nonsense before anyone else sees it. To future devs inheriting my
// mess: I'm sorry I never got around to fixing this.

.js {
    .pillars {
        height: 380px;
    }

    .panel {
        margin: 0 0 0 -2px;
        padding: 0;
        float: left;
        width: 25%;
        height: 380px;
        overflow: hidden;

        .panel-title {
            padding-top: 20px;
        }

        .panel-content {
            display: none;
            height: 300px;
            width: 290px;
            padding: 40px 40px 40px 300px;
            position: absolute;
            top: 0;
            left: 0;
        }
    }

    // IE8 doesn't support transitions so don't move the backgrounds.

    // Mozilla Mission
    #panel-mission.expanded,
    #panel-mission.compressed {
        background-position: -50px -80px;
    }

    // Lightbeam
    #panel-lightbeam.expanded,
    #panel-lightbeam.compressed {
        background-position: -80px 20px;
    }

    // Firefox OS
    #panel-fxos.expanded,
    #panel-fxos.compressed {
        background-position: -100px -100px;
    }

    // Firefox Desktop
    #panel-fxdesktop.expanded,
    #panel-fxdesktop.compressed {
        background-position: -70px 20px;
    }

    // MDN
    #panel-mdn.expanded,
    #panel-mdn.compressed {
        background-position: -25px 40px;
    }

    // Mozfest
    #panel-mozfest.expanded,
    #panel-mozfest.compressed {
        background-position: -110px -15px;
    }

    // Webmaker
    #panel-webmaker.expanded,
    #panel-webmaker.compressed {
        background-position: -95px 15px;
    }

    // The Web We Want (Australis)
    #panel-webwewant,
    #panel-webwewant.expanded,
    #panel-webwewant.compressed {
        background-position: -90px top;

        .aurora {
            background-position: 0 bottom;

            &:after {
                background-position: 20px 60px;
            }
        }
    }

    // Maker Party
    #panel-makerparty .confetti:after,
    #panel-makerparty.expanded .confetti:after,
    #panel-makerparty.compressed .confetti:after {
        background-position: -10px 25px;
    }

    // SUMO
    #panel-sumo,
    #panel-sumo.expanded,
    #panel-sumo.compressed {
        background-position: -50px 0;
    }

    // IE8 doesn't do gradients or rgba() so it gets solid, opaque colors.
    #panel-mission .panel-title {
        background: #821117;
    }

    #panel-fxos .panel-title {
        background: #0095dd;
    }

    #panel-fxdesktop .panel-title {
        background: #611600;
    }

    #panel-mdn .panel-title {
        background: #fff;
    }

    #panel-mozfest .panel-title {
        background: #ced3d3;
    }

    #panel-webwewant .panel-title {
        background: #253741;
    }

    #panel-worldcup2014 .panel-title {
        background: #2c4721;
    }

    #panel-netneutrality .panel-title {
        background: #444;
    }

    #panel-makerparty .panel-title {
        background: #fff;
    }

}
