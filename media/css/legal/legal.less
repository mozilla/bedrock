// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

@import "../sandstone/lib.less";

#tabzilla:before {
    background-color: @textColorSecondary;
}

#outer-wrapper {
    overflow: hidden; /* Fix the layout on IE */
}

#masthead {
    margin: 0 auto;
}

#main-content {
    margin-top: 50px;
    padding: 0;
}

.trademarks {
  table#marks,
  table#logos {
    width: 100%;
    margin-bottom: 3em;
    td, th {
      padding: 15px;
      border-bottom: 1px solid @borderColor;
    }
    td {
      width: 120px;
      text-align: center;
    }
    th {
      text-align: left;
      font-weight: normal;
    }
  }

  #other {
    clear: both;
  }
}

.legal-docs {
    .article-body > section:first-child {
        margin-top: auto;
        &> h1 {
            &:extend(.title-shadow-box);
            margin-left: 0;
        }
        > * {
            clear: left; // clear the .title-shadow-box
        }
    }
}



.main-column {
    margin: 0;
    padding: 0;
    width: (@gridColumnWidth * 9) + (@gridGutterWidth * 9);

    section, article {
        padding: 25px;
    }

    article {
        header {
            .logo {
                position: relative;
                float: right;
                margin: -80px -20px 0 0;
                vertical-align: top;
            }

            p {
                clear: both;
                margin: 1em 0;
            }

            .meta {
                color: @textColorTertiary;
                font-style: italic;
            }

            & + * {
                clear: both;
            }
        }

        section {
            margin-top: 2.5em;
            padding: 0;

            section {
                margin-top: 1.5em;
            }
        }

        .highlight {
            margin: 15px 0;
            padding: 15px;
            color: @textColorPrimary;
            background-color: #f9fafb;
            box-shadow: 1px 1px 2px #999;
            line-height: 1.5;

            h2, h3, h4 {
                line-height: 1.3;
            }

            h4 {
                .font-size(20px);
            }

            hr {
                margin: 20px auto;
                border-bottom: 1px solid #ccc;
                width: 80%;
            }

            [tabindex] {
                outline: 0;
            }

            [role="tab"] {
                &[aria-expaned] {
                    cursor: pointer;
                }

                a {
                    margin: 0 .5em;
                }
            }

            [aria-hidden="true"] {
                display: none;
            }
        }
    }
}


.section-terms {
    padding: 0;

    ul {
        margin: @baseLine 0 0;
    }

}

.section-terms .icon-list {
    padding: 0;
    margin-left: -10px;
    margin-right: -10px;
    .clearfix();

    li {
        .border-box();
        padding: 0 10px;
        margin: 0;
        float: left;
        width: 50%;
        list-style-type: none;
        margin-top: -1px; // to combine top/bottom borders

        a {
            display: table;
            position: relative;
            width: 100%;
            height: 60px;
            border-top: 1px dotted #ccc;
            border-bottom: 1px dotted #ccc;
            background: #fff;
            span {
                display: table-cell;
                vertical-align: middle;
                padding-left: 50px;
            }
        }

        a:before {
            content: " ";
            display: block;
            position: absolute;
            background-image: url(/media/img/legal/icons.png);
            background-repeat: no-repeat;
            height: 40px;
            width: 40px;
            top: 50%;
            left: 0;
            margin-top: -20px;

        }

        &.terms-firefox a:before,
        &.terms-firefox-os a:before,
        &.terms-firefox-cloud a:before {
            background-position: left -40px;
        }

        &.terms-marketplace a:before { background-position: left -80px; }
        &.terms-persona     a:before { background-position: left -120px; }
        &.terms-affiliates  a:before { background-position: left -160px; }
        &.terms-openbadges  a:before { background-position: left -200px; }
        &.terms-webmaker    a:before { background-position: left -240px; }
        &.terms-thunderbird a:before { background-position: left -280px; }
        &.terms-firefox-hello a:before { background-position: left -320px; }
    }

}

.sidebar {
    .margin-right(0);
    .margin-left(0);
    padding: 0;
    width: (@gridColumnWidth * 3) + (@gridGutterWidth * 5);

    section, nav {
        padding: 25px 25px 0;
    }

    section section {
        padding: 0;
    }

    nav h2 {
        .font-size(20px);
    }
}

.section-content {
    margin-bottom: @gridGutterWidth;
    padding: @gridGutterWidth;
    background-color: #fff;
    @shadow: 0 0 0 1px #fff inset;
    .box-shadow(@shadow);
    ul {
        margin: @baseLine 0 (@baseLine /2);
    }
}

#legal-landing {
    #main-content {
        margin-top: 0;
    }
}

html[dir="rtl"] {
    article li {
        margin-right: 20px;
        margin-left: 0;
    }

    .section-terms .icon-list li {
        float: right;

        a span {
            padding-right: 50px;
            padding-left: auto;
        }

        a:before {
            right: 0;
            left: auto;
        }
    }
}

@media only screen and (max-width: @breakDesktop) {

    .section-terms .icon-list {
        .clearfix();
        li {
            width: 100%;
        }
    }

}
@media only screen and (min-width: @breakTablet) and (max-width: @breakDesktop) {
    #main-content {
        width: @breakTablet;
    }

    .main-column {
        .span_narrow(8);
        margin: 0;
        width: (@gridColumnWidthNarrow * 8) + (@gridGutterWidth * 8);
    }

    .sidebar {
        .span_narrow(4);
        margin: 0;
        width: (@gridColumnWidthNarrow * 4) + (@gridGutterWidth * 6);
    }
}

@media only screen and (max-width: @breakTablet) {
    #masthead {
        h2, .breadcrumbs {
            display: none;
        }
    }

    #main-content {
        margin-top: 25px;
    }

    .main-column,
    .sidebar {
        .span-all();
        margin: 0;
    }

    .main-column article header {
        .logo {
            float: left;
            margin: -10px 0 0 -10px;
            width: 80px;

            & + h1,
            & + h1 + .meta {
                margin: 0 0 12px 80px;
            }
        }

        .title-shadow-box {
            margin-top: -50px;
        }
    }

    .main-column article .highlight {
        margin: 15px -15px;
    }

}

@media only screen and (min-width: @breakMobileLandscape) and (max-width: @breakTablet) {
    #wrapper {
        width: @breakMobileLandscape - @gridGutterWidth;
    }

    #masthead {
        width: @breakMobileLandscape - (@gridGutterWidth * 3);
    }
}
