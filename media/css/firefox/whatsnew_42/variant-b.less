// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

@import "../../sandstone/lib.less";

/*-------------------------------------------------------------------------*/
// Main page headline and copy.

main > header {
    width: 520px;

    @media only screen and (max-width: @breakDesktop) {
        width: 380px;
    }

    @media only screen and (max-width: @breakTablet) {
        width: auto;
    }
}

@media only screen and (min-width: @breakDesktop) {
    html[lang^='es'] {
        main > header h1 {
            .font-size(64px);
        }
    }

    html[lang^='de'] {
        main > header h1 {
            .font-size(53px);
        }
    }

    html[lang^='pl'] {
        main > header h1 {
            .font-size(54px);
        }
    }

    html[lang^='it'] {
        main > header h1 {
            .font-size(52px);
        }
    }
}

/*-------------------------------------------------------------------------*/
// Try private browsing CTA panel.

#try-private-browsing {
    position: relative;
    display: block;
    float: right;
    width: 360px;
    margin-top: -(@baseLine * 2);
    z-index: 0;

    .lockup {
        width: 320px;
        margin: 55px auto 0;
        padding: 180px @gridGutterWidth @baseLine;
        color: #000;
        text-align: center;
        background: #fff;
        .at2x('/media/img/firefox/whatsnew_42/mask-shield.png', 270px, 104px);
        background-position: center (@baseLine * 2);
        background-repeat: no-repeat;
        border-radius: 10px;
        z-index: 1;
    }

    .critter {
        position: absolute;
        background-position: top left;
        background-repeat: no-repeat;
        z-index: -1;

        &.top-left {
            top: 0;
            left: -80px;
            width: 122px;
            height: 129px;
            .at2x('/media/img/firefox/whatsnew_42/critter-top-left.png', 122px, 129px);

            //blinking eye
            &:before {
                position: absolute;
                top: 56px;
                left: 45px;
                width: 48px;
                height: 48px;
                .at2x('/media/img/firefox/whatsnew_42/eye-top-left.png', 48px, 48px);
                opacity: 0;
                content: '';
                .animation(blink 7s linear infinite);
            }

            // flashing light
            &:after {
                position: absolute;
                top: 76px;
                left: 24px;
                width: 8px;
                height: 8px;
                border-radius: 100%;
                background-color: #ff397e;
                opacity: 0;
                content: '';
                .animation(recorder 10s linear infinite);
            }
        }

        &.arms-top-left {
            top: 40px;
            left: -19px;
            width: 104px;
            height: 140px;
            .at2x('/media/img/firefox/whatsnew_42/critter-arms-top-left.png', 104px, 140px);
            z-index: 2;
        }

        &.top-right {
            top: 0;
            right: -90px;
            width: 139px;
            height: 79px;
            .at2x('/media/img/firefox/whatsnew_42/critter-top-right.png', 139px, 79px);
        }

        &.bottom-right {
            bottom: 10px;
            right: -100px;
            width: 185px;
            height: 104px;
            .at2x('/media/img/firefox/whatsnew_42/critter-bottom-right.png', 185px, 104px);

            // blinking eye
            &:before {
                position: absolute;
                top: 20px;
                right: 46px;
                width: 32px;
                height: 32px;
                .at2x('/media/img/firefox/whatsnew_42/eye-bottom-right.png', 32px, 32px);
                opacity: 0;
                content: '';
                .animation(blink 6s linear infinite);
            }

            // flashing light
            &:after {
                position: absolute;
                top: 6px;
                right: 73px;
                width: 4px;
                height: 4px;
                border-radius: 100%;
                background-color: #ff397e;
                opacity: 0;
                content: '';
                .animation(recorder 4s linear infinite);
            }
        }

        &.bottom-left {
            bottom: 100px;
            left: -70px;
            width: 53px;
            height: 48px;
            .at2x('/media/img/firefox/whatsnew_42/critter-bottom-left.png', 53px, 48px);
        }
    }

    h2 {
        margin: 0 auto @baseLine * 2;
        max-width: 15em;
        .open-sans;
        .font-size(18px);
        color: #005189;
        line-height: 1.3;
    }

    p {
        margin: @baseLine 0;
        color: #005189;

        a:link,
        a:visited {
            color: #00a7e0;
        }

        a:hover,
        a:active,
        a:focus {
            text-decoration: underline;
        }
    }

    a:link,
    a:visited {
        color: #000;
    }

    a:hover,
    a:active,
    a:focus {
        color: lighten(#000, 5%);
    }

    .button-flat-dark {
        .font-size(22px);
        padding: @baseLine 15px;
    }

    @media only screen and (max-width: @breakDesktop) {
        width: 320px;

        .lockup {
            width: 280px;
        }

        .critter {
            &.top-left {
                display: none;
            }

            &.arms-top-left {
                display: none;
            }

            &.bottom-left {
                bottom: 40px;
            }
        }

        .button-flat-dark {
            .font-size(18px);
        }

        p {
            .font-size(@smallFontSize);
        }
    }

    @media only screen and (max-width: @breakTablet) {
        float: none;
        margin: 0 auto;
        padding-top: 55px;

        .lockup {
            margin: 0 auto;
        }

        .critter {
            &.top-left {
                display: block;
            }

            &.arms-top-left {
                display: block;
            }
        }
    }

    @media only screen and (max-width: @breakMobileLandscape) {
        width: 300px;
        padding-top: 0;

        .lockup {
            width: 260px;
        }

        .critter {
            display: none;
            &.top-left {
                display: none;
            }

            &.arms-top-left {
                display: none;
            }
        }

        h2 {
            .font-size(@largeFontSize);
        }

        p {
            .font-size(@smallFontSize);
        }
    }
}

.html-rtl #try-private-browsing {
    float: left;

    @media only screen and (max-width: @breakDesktop) {
        .critter {
            display: none;
        }
    }

    @media only screen and (max-width: @breakTablet) {
        float: none;

        .critter {
            display: block;
        }
    }

    @media only screen and (max-width: @breakMobileLandscape) {
        .critter {
            display: none;
        }
    }
}

@keyframes recorder {
    0% {
        opacity: 0;
    }
    20% {
        opacity: 0;
    }
    21% {
        opacity: 1;
    }
    80% {
        opacity: 1;
    }
    81% {
        opacity: 0;
    }
    100% {
        opacity: 0;
    }
}

@keyframes blink {
    0% {
        opacity: 0;
    }
    40% {
        opacity: 0;
    }
    41% {
        opacity: 1;
    }
    42% {
        opacity: 1;
    }
    43% {
        opacity: 0;
    }
    75% {
        opacity: 0;
    }
    76% {
        opacity: 1;
    }
    77% {
        opacity: 1;
    }
    78% {
        opacity: 0;
    }
    100% {
        opacity: 0;
    }
}

@media only screen and (max-height: 690px) {
    #masthead {
        margin-bottom: @baseLine;
    }
}
