// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

@import "../../sandstone/sandstone-resp.less";
@import "../../firefox/mwc-2014-schedule.less";
@import "../../firefox/mwc-2014-map.less";

@font-face {
    font-family: 'Open Sans Extrabold';
    src: url('/media/fonts/OpenSans-ExtraBoldItalic-webfont.eot?#iefix-2013') format('embedded-opentype'),
         url('/media/fonts/OpenSans-ExtraBoldItalic-webfont.woff') format('woff'),
         url('/media/fonts/OpenSans-ExtraBoldItalic-webfont.ttf') format('truetype');
    font-weight: 800;
    font-style: italic;
}

/* {{{ Template overrides */

html {
  overflow: auto;
}

html, body {
  height: 100%;
  min-width: @widthDesktop;
}

#outer-wrapper {
  background: #0f9fdb;
}

#wrapper {
  width: @widthDesktop;
  padding-bottom: 0;
  z-index: 1;
}

#masthead {
  width: @widthDesktop - (@gridGutterWidth * 2);
  z-index: 15;
}

.container {
  width: 940px;
  z-index: 2; // forces grain/noise :after bg to be under text
}

#intro {
  position: relative;
  // push up into #masthead
  top: -44px;
  padding-top: 44px;
  width: 100%;
  background: #0f9fdb;
  background: -webkit-linear-gradient(top,  #0f9fdb 0%,#0055a0 100%);
  background: linear-gradient(to bottom,  #0f9fdb 0%,#0055a0 100%);
  overflow: hidden;
  box-shadow: inset 0 -14px 14px -10px rgba(0, 0, 0, 0.4);

  .logo {
    display: block;
    margin-bottom: @baseLine * 2;
  }

  .container {
    z-index: 10;
  }
}

#intro-copy {
  float: left;
  width: 480px;
  color: #fff;
  font-size: 16px;
  padding-bottom: @baseLine * 3;

  header {
    margin-bottom: @baseLine * 1.5;
  }

  h1 {
    color: #fff;
    text-shadow: none;
    .open-sans-extrabold;
    font-style: italic;
    font-size: 78px;
    letter-spacing: -3px;
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  h2 {
    color: #fff;
    text-shadow: none;
    font-size: 20px;
    font-weight: bold;
    letter-spacing: 0;
  }

  p {
    margin-bottom: @baseLine * 1.5;
  }

  img {
    margin-top: @baseLine * 1.5;
  }
}

#intro-phone {
  float: left;
  width: 460px;
  height: 650px;
  position: relative;

  img {
    max-width: 495px;
    width: 495px;
    height: 697px;
    position: relative;
    z-index: 4;
  }

  .tail {
    z-index: 3;
    left: 53%;
    top: 115px;
    position: absolute;
    width: 530px;
    height: 244px;
    background: transparent url(/media/img/firefox/os/mwc-2014-preview/fox-tail.png) top left no-repeat;
    -webkit-background-size: 100% 100%;
    -moz-background-size: 100% 100%;
    -o-background-size: 100% 100%;
    background-size: 100% 100%;
  }
}

#info {
  position: relative;
  // compensate for negative top value on #intro section
  margin-top: -44px;
  background: #eaeff2;
  background: -webkit-linear-gradient(top,  #eaeff2 0%,#d4dde4 100%);
  background: linear-gradient(to bottom,  #eaeff2 0%,#d4dde4 100%);
  padding: (@baseLine * 3) 0;
  color: @textColorSecondary;

  &:after {
    z-index: 0;
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100%;
    background: url(/media/img/firefox/new/bg-noise.png);
  }

  h3 {
    color: #4e4f53;
    font-size: 20px;
    line-height: 140%;
    text-align: center;
    font-weight: bold;
    margin: 0 auto @baseLine*2 auto;
    padding-bottom: @baseLine/2;
    width: 500px;
    border-bottom: 1px solid #cacaca;
  }

  .arrow:after {
    content: ' Â»';
  }

  .modal-link {
    background: url(/media/img/firefox/os/mwc-2014-preview/sprite-icons.png) left 2px no-repeat;
    padding-left: 24px;
  }

  // common list properties
  ul {
    .clearfix;
    margin-bottom: @baseLine*4;

    li {
      float: left;
      list-style-type: none;
      margin-left: 0;
      font-size: 12px;
      line-height: 20px;

      h4 {
        font-size: 20px;
        font-style: italic;
        margin-bottom: @baseLine;
        display: block;
        font-weight: normal;
      }

      small {
        font-style: italic;
        color: #888;
      }
    }
  }

  #list-partners {
    li {
      width: 235px;
      height: 73px;
      text-align: center;
      margin: 0 0 @baseLine 0;
      &:before, &:after {
        content: "";
        display: inline-block;
        height: 100%;
        vertical-align: middle;
      }

      img {
        vertical-align: middle;
      }
    }
  }

  #list-how {
    li {
      width: 210px;
      margin-right: 65px;
      padding-left: 60px;
      background-image: url(/media/img/firefox/os/mwc-2014-preview/sprite-how.png);
      background-repeat: no-repeat;
      &.last {
        margin-right: 0;
      }
      ul {
        margin: 0;
        padding: 0;
        li {
          margin: 0;
          padding: 0;
          background-image: none;
          a {
            padding-left: 24px;
          }
        }
      }
    }
  }

  #how-look {
    background-position: 0 50px;
  }

  #how-listen {
    background-position: 0 -150px;
  }

  #how-learn {
    background-position: 0 -350px;
  }

  #list-platform {
    width: 860px;
    margin-left: auto;
    margin-right: auto;
    li {
      width: 380px;
      padding-top: 175px;
      background-image: url(/media/img/firefox/os/mwc-2014-preview/sprite-platform.png);
      background-repeat: no-repeat;
      background-position: -550px 0;
    }
    #platform-firefoxos {
      margin-right: 100px;
      background-position: 0 0;
    }
  }
}

/* }}} */
/* {{{ Light rays */

.rays-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 4;
}

.rays-inner {
  position: relative;
  width: 1000px;
  height: 100%;
  margin: 0 auto;
  overflow: visible;
}

.rays-top {
  position: absolute;
  top: 210px;
  left: 412px;
  width: 654px;
  height: 571px;
  background: transparent url(/media/img/firefox/os/mwc-2014-preview/rays-top.png) top left no-repeat;
  -webkit-background-size: 100% 100%;
  -moz-background-size: 100% 100%;
  -o-background-size: 100% 100%;
  background-size: 100% 100%;
  -webkit-animation: 240s rayRotate infinite linear;
  -moz-animation: 240s rayRotate infinite linear;
  -o-animation: 240s rayRotate infinite linear;
  animation: 240s rayRotate infinite linear;
  z-index: 3;
}

.rays-mid {
  position: absolute;
  top: 45px;
  left: 300px;
  width: 866px;
  height: 849px;
  background: transparent url(/media/img/firefox/os/mwc-2014-preview/rays-mid.png) top left no-repeat;
  -webkit-background-size: 100% 100%;
  -moz-background-size: 100% 100%;
  -o-background-size: 100% 100%;
  background-size: 100% 100%;
  -webkit-animation: 240s rayRotate infinite linear;
  -moz-animation: 240s rayRotate infinite linear;
  -o-animation: 240s rayRotate infinite linear;
  animation: 240s rayRotate infinite linear;
  -webkit-animation-direction: reverse;
  -moz-animation-direction: reverse;
  -o-animation-direction: reverse;
  animation-direction: reverse;
  z-index: 2;
}

.rays-bottom {
  position: absolute;
  top: -30px;
  left: 140px;
  width: 1160px;
  height: 1187px;
  background: transparent url(/media/img/firefox/os/mwc-2014-preview/rays-bottom.png) top left no-repeat;
  -webkit-background-size: 100% 100%;
  -moz-background-size: 100% 100%;
  -o-background-size: 100% 100%;
  background-size: 100% 100%;
  z-index: 1;
}

@-webkit-keyframes rayRotate {
  0% {
    -webkit-transform-origin: center center;
    -webkit-transform: rotate(0);
  }

  100% {
    -webkit-transform-origin: center center;
    -webkit-transform: rotate(360deg);
  }
}

@-moz-keyframes rayRotate {
  0% {
    -moz-transform-origin: center center;
    -moz-transform: rotate(0);
  }

  100% {
    -moz-transform-origin: center center;
    -moz-transform: rotate(360deg);
  }
}

@-o-keyframes rayRotate {
  0% {
    -o-transform-origin: center center;
    -o-transform: rotate(0);
  }

  100% {
    -o-transform-origin: center center;
    -o-transform: rotate(360deg);
  }
}

@keyframes rayRotate {
  0% {
    transform-origin: center center;
    transform: rotate(0);
  }

  100% {
    transform-origin: center center;
    transform: rotate(360deg);
  }
}

/* }}} */

#colophon {
  margin: 0;
}

@media only screen {
  #wrapper {
    width: auto;
  }
}

#map, #schedule {
  background: #fff;
  .clearfix;
  padding: (@baseLine * 2) 0;
}

#modal {
  .container {
    width: auto;
  }

  .window .inner .schedule-day header {
    padding: 14px @baseLine 12px;
    background: #f4f6f6;
    background: -webkit-linear-gradient(top,  #f4f6f6 0%,#ecedee 100%);
    background: linear-gradient(to bottom,  #f4f6f6 0%,#ecedee 100%);
  }
}

.js {
  .modal-content, .modal-content-header {
    display: none;
  }
}

/* Tablet Layout: 760px */
@media only screen and (min-width: @breakTablet) and (max-width: @breakDesktop) {
  html, body {
    min-width: @widthTablet;
  }

  #masthead {
    width: @widthTablet  - (@gridGutterWidth * 2);
  }

  .container {
    width: @widthTablet - (@gridGutterWidth * 2);
  }

  #intro {
    min-height: 700px;
  }

  #intro-copy {
    width: 380px;
    font-size: 14px;

    h1 {
      font-size: 60px;
    }

    h2 {
      font-size: 18px;
    }
  }

  #intro-phone {
    width: 340px;
    height: auto;

    img {
      width: 100%;
      height: auto;
    }

    .tail {
      width: 366px;
      height: 168px;
      left: 49%;
      top: 85px;
    }
  }

  #info {
    #list-how {
      li {
        width: 152px;
        margin-right: 40px;
      }
    }

    #list-platform {
      width: 720px;
      li {
        width: 310px;
        background-position: -585px 0;
      }
    }
  }

  .rays-inner {
    width: 690px;
  }

  .rays-top {
    width: 450px;
    height: 394px;
    top: 232px;
    left: 286px;
  }

  .rays-mid {
    width: 598px;
    height: 586px;
    top: 115px;
    left: 220px;
  }

  .rays-bottom {
    width: 800px;
    height: 819px;
    top: 50px;
    left: 95px;
  }
}

/* Mobile layout: 320px */
@media only screen and (max-width: @breakMobileLandscape) {
  html, body {
    min-width: @widthMobile;
  }

  #masthead {
    width: @widthMobile - @gridGutterWidth;
  }

  .container {
    width: @widthMobile - @gridGutterWidth;
  }

  #intro {
    min-height: 0;
    .logo {
      margin-bottom: @baseLine * 2;
    }
  }

  #intro-copy {
    float: none;
    width: 300px;
    font-size: 14px;

    h1 {
      font-size: 44px;
    }

    h2 {
      font-size: 14px;
    }

    br {
      display: none;
    }

    img {
      margin-top: @baseLine / 2;
    }
  }

  #intro-phone {
    float: none;
    width: 300px;
    height: auto;

    img {
      width: 100%;
      height: auto;
    }

    .tail {
      width: 318px;
      height: 146px;
      left: 49%;
      top: 75px;
    }
  }

  #info {
    h3 {
      width: auto;
      font-size: 22px;
      margin-bottom: @baseLine;
    }

    ul {
      margin-bottom: @baseLine*2;

      li strong {
        margin-bottom: @baseLine/2;
        font-size: 16px;
      }
    }

    #list-partners {
      li {
        width: 300px;
      }
    }

    #list-how {
      li {
        width: 240px;
        margin: 0 0 @baseLine 0;
      }
    }

    #how-look {
      background-position: 0 10px;
    }

    #how-listen {
      background-position: 0 -190px;
    }

    #how-learn {
      background-position: 0 -390px;
    }

    #list-platform {
      width: 300px;
      li {
        float: none;
        width: 300px;
        padding-top: 90px;
        background-position: -185px 0;
        background-size: 120%;
      }
      #platform-firefoxos {
        margin-right: 0;
        background-position: 80px 0;
      }
    }
  }

  .rays-inner {
    width: 320px;
  }

  .rays-top {
    width: 392px;
    height: 342px;
    top: auto;
    bottom: 10px;
    left: -44px;
  }

  .rays-mid {
    width: 519px;
    height: 509px;
    top: auto;
    bottom: -70px;
    left: -120px;
  }

  .rays-bottom {
    width: 696px;
    height: 712px;
    top: auto;
    bottom: -150px;
    left: -224px;
  }
}

/* Mobile layout: 480px */
@media only screen and (min-width: @breakMobileLandscape) and (max-width: @breakTablet) {
  html, body {
    min-width: @widthMobileLandscape;
  }

  #masthead {
    width: @widthMobileLandscape  - @gridGutterWidth;
  }

  .container {
    width: @widthMobileLandscape - @gridGutterWidth;
  }

  #intro {
    min-height: 0;
    .logo {
      margin-bottom: @baseLine * 2;
    }
  }

  #intro-copy {
    float: none;
    width: 420px;
    font-size: 14px;

    h1 {
      font-size: 60px;
    }

    h2 {
      font-size: 20px;
    }
  }

  #intro-phone {
    float: none;
    width: 420px;
    height: auto;

    img {
      width: 100%;
      height: auto;
    }

    .tail {
      width: 450px;
      height: 207px;
      left: 49%;
      top: 95px;
    }
  }

  #info {
    h3 {
      width: auto;
      font-size: 22px;
      margin-bottom: @baseLine;
    }

    ul {
      margin-bottom: @baseLine*2;

      li strong {
        margin-bottom: @baseLine/2;
        font-size: 16px;
      }
    }

    #list-partners {
      li {
        width: 210px;
      }
    }

    #list-how {
      li {
        width: 360px;
        margin: 0 0 @baseLine 0;
      }
    }

    #how-look {
      background-position: 0 10px;
    }

    #how-listen {
      background-position: 0 -190px;
    }

    #how-learn {
      background-position: 0 -390px;
    }

    #list-platform {
      width: 420px;
      li {
        float: none;
        width: 420px;
        padding-top: 120px;
        background-position: -410px 0;
        background-size: 160%;
      }
      #platform-firefoxos {
        margin-right: 0;
        background-position: 80px 0;
      }
    }
  }

  .rays-inner {
    width: 480px;
  }

  .rays-top {
    width: 556px;
    height: 485px;
    top: auto;
    bottom: 30px;
    left: -70px;
  }

  .rays-mid {
    width: 736px;
    height: 722px;
    top: auto;
    bottom: -70px;
    left: -150px;
  }

  .rays-bottom {
    width: 986px;
    height: 1009px;
    top: auto;
    bottom: -200px;
    left: -300px;
  }
}

/* }}} */
