// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at https://mozilla.org/MPL/2.0/.

$image-path: '/media/protocol/img';
$font-path: '/media/protocol/fonts';

@use "./toggle";
@use "./animations";

@import '~@mozilla-protocol/core/protocol/css/includes/lib';
@import '~@mozilla-protocol/core/protocol/css/components/modal';
@import '~@mozilla-protocol/core/protocol/css/includes/mixins/details';
@import '~@mozilla-protocol/core/protocol/css/includes/fonts/metropolis';

$campaign-red: #ff6a75;
$campaign-pink: #ffbdc5;
$campaign-mint: #d1ffee;
$campaign-green: #2ac3a2;


.ctd-mobile-banner {
    padding: $spacing-sm $spacing-lg;

    @media #{$mq-md} {
        display: none;
    }
}

.ctd-sub-nav-image {
    height: 40px;
    width: auto;
}

.ctd-hero-wrapper {
    background: $campaign-red;
}

.c-ctd-hero {
    @include font-firefox;
    background: $campaign-red;

    .c-hero-top {
        display: flex;
        justify-content: flex-end;
        border-bottom: 4px solid $campaign-red;
        height: 70px;
        padding: $spacing-md;

        &-images {
            align-items: center;
            display: none;

            img {
                max-height: 100%;
                margin-right: $spacing-md;
            }
        }

        @media #{$mq-md} {
            justify-content: space-between;

            &-images {
                display: flex;
            }
        }

        &-controls {
            display: flex;
            align-items: center;

            .hero-control-btn {
                margin-left: $spacing-md;
                background: none;
                border: 0;
                display: block;
                cursor: pointer;
            }
        }

        .minimize {
            width: 30px;
            height: 30px;
            border-bottom: 3px solid $campaign-red;

        }

        .expand {
            width: 24px;
            height: 24px;
            border: 3px solid $campaign-red;
        }

        .close {
            width: 36px;
            height: 36px;
            position: relative;

            &::before {
                content: "";
                height: 36px;
                width: 3px;
                position: absolute;
                transform: rotate(-45deg);
                right: 12px;
                top: 0;
                background: $campaign-red;
            }

            &::after {
                content: "";
                height: 36px;
                width: 3px;
                position: absolute;
                transform: rotate(45deg);
                right: 12px;
                top: 0;
                background: $campaign-red;
            }
        }
    }

    .hero-wrapper {
        position: relative;
        background: $color-white;
        clip-path: url("#hero-clip-path-mobile");
        opacity: 0;
        transition: opacity 1s;

        @media #{$mq-md} {
            clip-path: url("#hero-clip-path");
        }

        &.closed {
            opacity: 0;
        }
    }

    .hero-content-wrapper {
        padding: $spacing-md 0;
        margin: 0 $spacing-lg 0 $spacing-2xl;
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: 1fr 1fr;
        grid-gap: $spacing-xl;

        @media #{$mq-lg} {
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr;
            padding: $layout-lg 0;
            margin: 0 $layout-xl;
        }
    }

    .c-hero-image {
        justify-self: center;
        grid-row: 1;
        grid-column: auto;
        margin-top: 0;
        clip-path: url('#hero-image-clip-path');

        @media #{$mq-lg} {
            margin-top: $spacing-xl;
            grid-column: 2;
        }
    }

    .c-hero-text {
        justify-content: center;
        min-width: 440px;

        h1 {
            @include font-firefox;
            @include font-size(36px);
            color: $color-black;
            margin-bottom: $spacing-md;
        }

        p {
            @include font-size(16px);
            color: $color-marketing-gray-70;
        }

        @media #{$mq-md} {
            h1 {
                @include font-size(64px);
            }


        }
    }

}

.c-ctd-credentials {
    background: $color-black;

    h2 {
        @include font-size(90px);
        color: $color-white;
        text-align: center;
    }

    .mzp-c-details {
        background-color: $color-white;
        padding: $spacing-xl $spacing-md;
        border-radius: $border-radius-lg;
        margin-top: $spacing-lg;

        h3 {
            margin-bottom: 0;
        }

        p {
            margin-top: $spacing-xl;
        }
    }
}

.c-ctd-toggles {
    background-color: $color-black;

    &.all-checked {
        background-color: $campaign-green;
    }

    .toggle-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        column-gap: $spacing-xl;
        row-gap: $layout-lg;

        &.large {
            display: none;
        }

        @media #{$mq-lg} {
             grid-template-columns: repeat(7, 1fr);

             &.large {
                display: grid;
             }

             &.small {
                display: none;
             }
        }
    }
}

.c-ctd-features {
    background-color: $color-white;
    clip-path: url("#features-clip-path");

    h2 {
        @include font-firefox;
        @include font-size(40px);
        word-break: break-word;
        margin-bottom: $spacing-lg;
        hyphens: auto;
    }

    @media #{$mq-md} {
        h2 {
            hyphens: none;
            word-break: normal;
            margin-bottom: $layout-lg;
            @include font-size(76px);
        }
    }

    @media (prefers-reduced-motion: no-preference) {
        .mzp-c-picto {
            opacity: 0;
        }
    }
}

.c-ctd-comparison {
    .c-ctd-comparison-text {
        margin-bottom: $layout-lg;

        h2 {
            @include font-firefox;
            @include font-size(40px);
            margin-bottom: $spacing-lg;
        }

        @media #{$mq-md} {
            h2 {
                @include font-size(60px);
            }
        }
    }


    .mzp-u-data-table.comparison-table {
        width: 100%;
        max-width: 100%;
        margin-bottom: $spacing-sm;

        .safari, .edge, .chrome {
            display: none;
        }

        &[data-selected-browser='safari'] {
            td.safari {
                display: table-cell;
            }
        }

        &[data-selected-browser='chrome'] {
            td.chrome {
                display: table-cell;
            }
        }

        &[data-selected-browser='edge'] {
            td.edge {
                display: table-cell;
            }
        }

        th {
            max-width: 150px;
            border: 1px solid $color-black;
            font-size: 14px;

            &[scope='row'].break-word {
                word-break: break-all;
                hyphens: manual;
            }

            &[scope='col'] {
                text-align: center;
                padding: $spacing-md;
            }
        }

        th.mobile-select-wrapper {
            padding: 0;

            @media #{$mq-md} {
                display: none;
            }
        }

        .mobile-select {
            margin-bottom: 0;
            max-width: 100%;
            min-width: 0;
            border: 0;
        }

        td {
            text-align: center;
            border: 1px solid $color-black;
        }

        .empty {
            border: none;
        }

        thead tr th, td {
            &:nth-child(2) {
                color: $color-black;
                background-color: $campaign-pink;
            }
        }

        // needed this rule to allow button to take up 100% of the td
        tr {
            height: 100%;
        }


        @media #{$mq-md} {
            .safari, .edge, .chrome {
                display: table-cell;
            }
        }
    }

    .kitten-button {
        background: none;
        border: 0;
        display: block;
        margin-left: auto;
        color: $color-link;
        cursor: pointer;

        &:hover,
        &:focus {
            color: $color-link-hover;
        }
    }

    .comparison-cta {
        margin-top: $layout-lg;
        text-align: center;

        h3 {
            margin-bottom: $spacing-lg;
        }
    }
}

.kitten-modal-overlay {
    .mzp-c-modal-inner {
        padding: 0;
        max-width: 688px;
        background-color: $campaign-green;

        header {
            padding: $spacing-md;
            border-bottom: 2px solid $color-black;
        }

        .mzp-c-modal-close {
            right: 0;
            top: 0;

            .mzp-c-modal-button-close {
                background-image: url('#{$image-path}/icons/close.svg')
            }
        }

        .kitten-modal {
            padding: $spacing-xl;
        }

        .kitten-modal-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            column-gap: $spacing-lg;

            h2 {
                @include font-size(60px);
                color: $color-black;
            }

            img {
                align-self: center;
                clip-path: url('#kitten-clip-path');
            }
        }
    }
}

.c-animated-button {
    background-color: $campaign-green;
    text-align: center;

    .animated-button {
        background: none;
        border: 0;
        cursor: pointer;
    }
}

.c-ctd-footer {
    text-align: center;

    h3 {
        @include font-size(60px);
    }

    p {
        @include font-size(24px);
    }

    .text-bottom {
        @include font-size(14px);
        margin-top: $layout-xl;
    }
}
